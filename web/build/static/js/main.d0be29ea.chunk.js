(this.webpackJsonpstarscream_web=this.webpackJsonpstarscream_web||[]).push([[0],{125:function(e,a,t){e.exports=t.p+"static/media/readit_logo_black.a15732c9.png"},132:function(e,a,t){e.exports=t.p+"static/media/readit_logo_light.58a82056.png"},153:function(e,a,t){e.exports=t(173)},158:function(e,a,t){},173:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(14),c=t.n(l),o=(t(158),t(16)),i=t(136),u=t(92),s=t(224),m=Object(i.a)({overrides:{MuiAppBar:{colorPrimary:{backgroundColor:u.a[900]}}},palette:{primary:{main:s.a[600],dark:s.a[900],light:s.a[100]},layout:{main:s.a[800],dark:s.a[900],light:s.a[50]},util:{separator:"rgba(0, 0, 0, 0.12)"},footer:{light:s.a[800],main:s.a[900],dark:u.a[900]}}}),d=t(94),E=Object(i.a)({palette:{primary:{main:s.a[100],dark:s.a[300],light:s.a[50]},secondary:{main:d.a[700],dark:d.a[900],light:d.a[500]},util:{separator:"rgba(0, 0, 0, 0.12)"},layout:{main:s.a[800],dark:s.a[900],light:s.a[50]},footer:{light:s.a[800],main:s.a[900],dark:u.a[900]}}}),f=t(258),p=t(8),h=r.a.createContext({user:null,token:null});function b(e){var a=r.a.useState(null),t=Object(p.a)(a,2),n=t[0],l=t[1],c=r.a.useState(null),o=Object(p.a)(c,2),i=o[0],u=o[1];return r.a.createElement(h.Provider,Object.assign({value:{user:n,setUser:l,token:i,setToken:u,isAdmin:function(){return n&&!!n.is_admin}}},e))}var g=function(){return r.a.useContext(h)},v=t(100),j=t.n(v),w=t(119),y=t(13),O=t(227),C=t(229),k=t(230),x=t(231),S=t(232),_=t(175),N=r.a.createContext({user:null,token:null});function A(e){var a=e.children,t=Object(y.a)(e,["children"]),n={title:"Are you sure?",text:"",size:"middle",type:"yesno",userFunc:function(){}},l=r.a.useState({settings:n,open:!1}),c=Object(p.a)(l,2),o=c[0],i=c[1];function u(){return(u=Object(w.a)(j.a.mark((function e(){var a,t,n,r,l,c,o,u,s,m=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=m.length>0&&void 0!==m[0]?m[0]:function(){},t=m.length>1?m[1]:void 0,n=t.title,r=void 0===n?"Are you sure?":n,l=t.text,c=void 0===l?"":l,o=t.size,u=void 0===o?"middle":o,s=t.type,i({settings:{text:c,size:u,type:void 0===s?"yesno":s,title:r,userFunc:a},open:!0});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){i({settings:n,open:!1})}function m(){s()}function d(){s(),o.settings.userFunc()}r.a.Fragment,_.a,_.a;switch(o.settings.type){case"continue":r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{onClick:d,color:"primary"},"Continue"));break;case"accept":r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{onClick:d,color:"primary"},"Accept"));break;case"confirmdecline":r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{onClick:d,color:"primary"},"Confirm"),r.a.createElement(_.a,{onClick:m,color:"primary",autoFocus:!0},"Decline"))}return r.a.createElement(N.Provider,Object.assign({value:function(){return u.apply(this,arguments)}},t),r.a.createElement(O.a,{open:o.open,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(C.a,{id:"alert-dialog-title"},o.settings.title),r.a.createElement(k.a,null,r.a.createElement(x.a,{id:"alert-dialog-description"},o.settings.text)),r.a.createElement(S.a,null,r.a.createElement(_.a,{onClick:d,color:"primary"},"Yes"),r.a.createElement(_.a,{onClick:m,color:"primary",autoFocus:!0},"No"))),a)}var W=function(){return r.a.useContext(N)},F=t(6),T=t(233),z=Object(T.a)((function(e){return{header:{colorDefault:e.palette.primary.dark},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},leftColumn:{backgroundColor:e.palette.layout.main,color:e.palette.common.white,borderTop:"1px solid ".concat(e.palette.util.separator)},topLine:{backgroundColor:e.palette.layout.main,color:e.palette.common.white},contentColumn:{backgroundColor:e.palette.common.white,minHeight:"calc(100vh - 64px)"},rightColumn:{backgroundColor:e.palette.layout.light},leftPanelButtonsText:{paddingLeft:e.spacing(1)},searchLineBase:{display:"flex",width:"100%"},createThreadButtonContainer:{display:"flex",width:"100%",height:"100%",alignItems:"stretch"},createThreadButtonBox:{display:"flex",width:"100%"},avatar:{marginLeft:e.spacing(2)},menuIcon:{color:e.palette.common.white},menuDrawer:{maxWidth:"80vw"},appBarMobileMargin:{marginTop:"56px"},appBarDesktopMargin:{marginTop:"64px"},logo:{height:"35px"},whiteColor:{color:"#fff !important"},InputRoot:{backgroundColor:"rgba(255, 255,255, 0.09) !important",borderTopRightRadius:"0 !important",borderBottomLeftRadius:e.shape.borderRadius}}})),I=t(53),B=t(271),L=t(80),q=t.n(L),D=function(e){e||console.error("request endPoint undefined");var a=function(e,a){return console.log("request.".concat(e,":"),a)};return{endPoint:function(){return e},post:function(t){var n="".concat(e,"/").concat(t);return a("post",n),q.a.post(n).set("accept","application/json").withCredentials()},put:function(t){var n="".concat(e,"/").concat(t);return a("put",n),q.a.put(n).set("accept","application/json").withCredentials()},delete:function(t){var n="".concat(e,"/").concat(t);return a("delete",n),q.a.delete(n).set("accept","application/json").withCredentials()},get:function(t){var n="".concat(e,"/").concat(t);return a("get",n),q.a.get(n).set("accept","application/json").withCredentials()}}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return D(e||"https://web.solomaha.com/api")},R=t(89),U=t.n(R),M=t(3),Z=Object(T.a)((function(e){return{paper:{maxWidth:"300px"}}})),G=t(235),H=t(236),J=t(237),Q=t(234),Y=t(177),K=t(54),$=t(241),V=t(240),X=t(267),ee=t(103),ae=t(238),te=t(239);function ne(e){var a=e.authData,t=e.setAuthData,n=e.onComplete,l=void 0===n?function(){}:n,c=(Object(y.a)(e,["authData","setAuthData","onComplete"]),r.a.useState(!1)),o=Object(p.a)(c,2),i=o[0],u=o[1],s=r.a.useState(null),m=Object(p.a)(s,2),d=m[0],E=m[1],f=r.a.useState({email:null,password:null,remember:!1}),h=Object(p.a)(f,2),b=h[0],v=h[1],j=g().setUser,w=Z();return a||(a=b,t=v),r.a.createElement(ee.a,{className:w.paper},r.a.createElement(Q.a,null,d&&r.a.createElement(Y.a,null,r.a.createElement(K.a,{color:"error",variant:"body2"},d)),r.a.createElement(Y.a,null,r.a.createElement(G.a,{placeholder:"Email",fullWidth:!0,required:!0,autoComplete:"email",onChange:function(e){e.persist(),t((function(a){return Object(F.a)(Object(F.a)({},a),{},{email:e.target.value||null})}))},value:a.email||""})),r.a.createElement(Y.a,null,r.a.createElement(G.a,{id:"standard-adornment-password",type:i?"text":"password",value:a.password||"",placeholder:"Password",onChange:function(e){e.persist(),t((function(a){return Object(F.a)(Object(F.a)({},a),{},{password:e.target.value||null})}))},autoComplete:"password",fullWidth:!0,required:!0,endAdornment:r.a.createElement(H.a,{position:"end"},r.a.createElement(J.a,{"aria-label":"toggle password visibility",onClick:function(e){u((function(e){return!e}))}},i?r.a.createElement(ae.a,null):r.a.createElement(te.a,null)))})),r.a.createElement(Y.a,null,r.a.createElement(V.a,{primary:"\u0417\u0430\u043f\u0430\u043c'\u044f\u0442\u0430\u0442\u0438 \u043c\u0435\u043d\u0435"}),r.a.createElement($.a,null,r.a.createElement(X.a,{checked:a.remember,onChange:function(e){e.persist(),t((function(a){return Object(F.a)(Object(F.a)({},a),{},{remember:e.target.checked||!1})}))}}))),r.a.createElement(Y.a,null,r.a.createElement(_.a,{fullWidth:!0,onClick:function(){a.email&&a.password?P().post("auth/login").send(a).then((function(e){j(e.body.data),l(e.body.data)})).catch((function(e){console.error(e);try{switch(e.status){case 403:E("\u0412\u0436\u0435 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0456\u043a\u043e\u0432\u0430\u043d\u043e");break;case 422:E("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430 \u043f\u043e\u0448\u0442\u0430 \u0447\u0438 \u043f\u0430\u0440\u043e\u043b\u044c");break;default:E("Unexpected error, see console for more information"),console.error(e)}}catch(a){console.error(a)}})):E("Credential cannot be empty")}},"\u0423\u0432\u0456\u0439\u0442\u0438"))))}var re=t(29),le=t(242);function ce(e){e.authData,e.setAuthData;var a=e.onComplete,t=(Object(y.a)(e,["authData","setAuthData","onComplete"]),r.a.useState(!1)),n=Object(p.a)(t,2),l=n[0],c=n[1],o=r.a.useState({username:null,password:null,email:null}),i=Object(p.a)(o,2),u=i[0],s=i[1],m=g().setUser,d=Object(I.f)(),E=r.a.useState({username:null,email:null,password:null,repeatpassword:null}),f=Object(p.a)(E,2),h=f[0],b=f[1];function v(e){e.persist(),s((function(a){return Object(F.a)(Object(F.a)({},a),{},Object(re.a)({},e.target.name,e.target.value||null))}))}return r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,r.a.createElement(V.a,{primary:r.a.createElement(G.a,{placeholder:"Username",fullWidth:!0,required:!0,name:"username",onChange:v,value:u.username||""}),secondary:h.username&&r.a.createElement(le.a,{error:!0}," ",h.username," ")})),r.a.createElement(Y.a,null,r.a.createElement(V.a,{primary:r.a.createElement(G.a,{placeholder:"Email",fullWidth:!0,required:!0,name:"email",onChange:v,value:u.email||""}),secondary:h.email&&r.a.createElement(le.a,{error:!0}," ",h.email," ")})),r.a.createElement(Y.a,null,r.a.createElement(V.a,{primary:r.a.createElement(G.a,{id:"standard-adornment-password",type:l?"text":"password",value:u.password||"",placeholder:"Password",onChange:function(e){e.persist(),s((function(a){return Object(F.a)(Object(F.a)({},a),{},{password:e.target.value||null})}))},required:!0,endAdornment:r.a.createElement(H.a,{position:"end"},r.a.createElement(J.a,{"aria-label":"toggle password visibility",onClick:function(e){c((function(e){return!e}))}},l?r.a.createElement(ae.a,null):r.a.createElement(te.a,null)))}),secondary:h.password&&r.a.createElement(le.a,{error:!0}," ",h.password," ")})),r.a.createElement(Y.a,null,r.a.createElement(_.a,{fullWidth:!0,onClick:function(){P().post("auth/register").send(Object(F.a)(Object(F.a)({},u),{},{password_confirmation:u.password,name:u.username,username:void 0})).then((function(e){var t;m(e.body.data),t="/user/".concat(e.body.data.id),d.push(t),a()})).catch((function(e){console.error(e),function(e){switch(b({username:null,email:null,password:null,repeatpassword:null}),e.status){case 422:var a=e.response.body.errors,t=function(e){var t="Unresolved error",n=a[e][0];if(n){switch(n){case"validation.email":t="Incorrect email";break;case"validation.min.string":t="Password is too short";break;case"validation.unique":t="Username is already taken"}b((function(a){return Object(F.a)(Object(F.a)({},a),{},Object(re.a)({},e,t))}))}};for(var n in a)t(n)}}(e)}))}},"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f")))}var oe=t(263),ie=t(244),ue=t(262),se=t(248),me=t(270),de=t(260),Ee=t(261),fe=t(266),pe=t(259),he=t(135),be=t.n(he),ge=t(134),ve=t.n(ge),je=t(133),we=t.n(je),ye=t(243);function Oe(e){var a=e.thread,t=(Object(y.a)(e,["thread"]),Object(I.f)()),n=r.a.createElement(K.a,{variant:"body2"},a.title),l=r.a.createElement(r.a.Fragment,null,"".concat(a.reply_count," \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0435\u0439"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{button:!0,onClick:function(e){return n="/thread/".concat(a.id),void t.push(n);var n}},r.a.createElement(ye.a,null,r.a.createElement(me.a,{src:"".concat("https://web.solomaha.com/avatars","/").concat(a.user.id,".jpg")})),r.a.createElement(V.a,{primary:n,secondary:l})),r.a.createElement(ie.a,null))}var Ce=t(264),ke=t(249),xe=t(250),Se=Object(T.a)((function(e){return{listItemTextFix:{paddingRight:e.spacing(6),wordWrap:"break-word"},worldWrap:{wordWrap:"break-word"}}})),_e=t(64),Ne=t.n(_e),Ae=t(91),We=t.n(Ae),Fe=t(65),Te=t.n(Fe),ze=t(66),Ie=t.n(ze),Be=t(246),Le=t(269);function qe(e){var a=e.message,t=void 0===a?"":a,n=W();return r.a.createElement(r.a.Fragment,null,function(e,a){for(var t=[],n=function(){var n=e.includes("http://")?e.indexOf("http://"):e.indexOf("https://"),l=e.slice(0,n),c=e.indexOf(" ",n);-1===c&&(c=e.length-1);var o=e.slice(n,c),i=o.slice(0,40);o.length>40&&(i+="..."),e=e.slice(c,e.length-1),l&&t.push(l),o&&t.push(r.a.createElement(Le.a,{title:o,"aria-label":"link",key:"link-".concat(o)},r.a.createElement(Be.a,{onClick:function(e){return a((function(){window.location.href=o}),{text:"Link ".concat(i," is custom user link and does not belong to our application. You follow this link to your own risk and peril."),title:"Confirm redirect by user hyperlink",type:"continue"})}},i)))};e.includes("http://")||e.includes("https://");)n();return e&&t.push(e),t}(t,n))}function De(e){var a=e.author,t=e.thread,n=e.onEdited,l=void 0===n?function(){}:n,c=e.preview,o=void 0!==c&&c,i=(Object(y.a)(e,["author","thread","onEdited","preview"]),Object(I.f)()),u=g(),s=u.user,m=u.isAdmin,d=r.a.useState(!1),E=Object(p.a)(d,2),f=E[0],h=E[1],b=r.a.useState({title:t.title,body:t.body}),v=Object(p.a)(b,2),j=v[0],w=v[1],O=W(),C=Se(),k=r.a.useState({title:null,body:null}),x=Object(p.a)(k,2),S=x[0],_=x[1];function N(e){i.push(e)}function A(e){w(Object(F.a)(Object(F.a)({},j),{},Object(re.a)({},e.target.name,e.target.value)))}function T(){P().delete("questions/".concat(t.id)).then((function(e){N("/threads")})).catch((function(e){switch(e.status){case 401:N("?login=true");break;default:console.error(e)}}))}return r.a.useEffect((function(){w({title:t.title,body:t.body})}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{id:"author",button:!0,onClick:function(e){return N("/user/".concat(a.id))}},r.a.createElement(ye.a,null,r.a.createElement(me.a,{src:"".concat("https://web.solomaha.com/avatars","/").concat(a.id,".jpg")})),r.a.createElement(V.a,{primary:a.name,secondary:"\u043e\u043f\u0443\u0431\u043b\u0456\u043a\u043e\u0432\u0430\u043d\u043e ".concat(t.created_at&&new Date(t.created_at).toLocaleString()||"\u0442\u0456\u043b\u044c\u043a\u0438 \u0449\u043e"),className:Object(M.a)((s&&s.id===a.id||m())&&C.listItemTextFix)}),(s&&s.id===a.id||m())&&!o&&r.a.createElement($.a,null,!f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{onClick:function(e){return h(!0)}},r.a.createElement(Ne.a,null)),r.a.createElement(J.a,{onClick:function(){O(T,{title:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f: ".concat(t.title),text:"\u0426\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0432\u0456\u0434\u043c\u0456\u043d\u0435\u043d\u0430"})}},r.a.createElement(We.a,null))),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{onClick:function(){if(!function(){var e=!1;return j.body?_((function(e){return Object(F.a)(Object(F.a)({},e),{},{body:null})})):(_((function(e){return Object(F.a)(Object(F.a)({},e),{},{body:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),j.title?_((function(e){return Object(F.a)(Object(F.a)({},e),{},{title:null})})):(_((function(e){return Object(F.a)(Object(F.a)({},e),{},{title:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),!e}())return null;P().put("questions/".concat(t.id)).send(Object(F.a)(Object(F.a)({},j),{},{body:j.body.replace(/(\n\n\n)+/g,"\n"),title:j.title.replace(/\n/g,"")})).then((function(e){console.log(e),h(!1),l(j),_({title:null,body:null})})).catch((function(e){switch(e.status){case 401:N("?login=true");break;default:_({title:"Error",body:"Error"})}}))}},r.a.createElement(Te.a,null)),r.a.createElement(J.a,{onClick:function(e){h(!1),w({title:t.title,body:t.body})}},r.a.createElement(Ie.a,null))))),r.a.createElement(Y.a,{id:"question"},!f&&r.a.createElement(K.a,{variant:"h5"},t.title),f&&r.a.createElement(oe.a,{helperText:S.title,fullWidth:!0,label:"\u041f\u0438\u0442\u0430\u043d\u043d\u044f",required:!0,value:j.title,name:"title",variant:"outlined",onChange:A,error:S.title})),r.a.createElement(Y.a,null,!f&&r.a.createElement(K.a,{variant:"body1"},t.body&&r.a.createElement(K.a,{style:{whiteSpace:"pre-wrap"}},r.a.createElement(qe,{message:t.body,style:{whiteSpace:"pre-wrap"}}))),f&&r.a.createElement(oe.a,{fullWidth:!0,label:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u043e",helperText:S.body,required:!0,value:j.body,name:"body",variant:"outlined",size:"small",onChange:A,multiline:!0,rows:6,error:S.body})))}function Pe(e){var a=e.children,t=e.value,n=e.index,l=Object(y.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"thread-editor-tabpanel--".concat(n),"aria-labelledby":"thread-editor-".concat(n)},l),t===n&&a)}function Re(e){Object.assign({},e);var a=r.a.useState(0),t=Object(p.a)(a,2),n=t[0],l=t[1],c=r.a.useState({title:"",body:""}),o=Object(p.a)(c,2),i=o[0],u=o[1],s=r.a.useState([]),m=Object(p.a)(s,2),d=m[0],E=m[1],f=r.a.useState(null),h=Object(p.a)(f,2),b=h[0],v=h[1],j=r.a.useState({title:null,body:null,category:null}),w=Object(p.a)(j,2),y=w[0],O=w[1],C=Object(I.f)(),k=g().user;function x(e){C.push(e)}function S(e){u(Object(F.a)(Object(F.a)({},i),{},Object(re.a)({},e.target.name,e.target.value)))}return r.a.useEffect((function(){P().get("categories").then((function(e){E(e.body.data)})).catch((function(e){console.error(e)}))}),[]),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(Ce.a,{value:n,onChange:function(e,a){l(a)},"aria-label":"simple tabs example",variant:"fullWidth"},r.a.createElement(ke.a,{label:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f"}),r.a.createElement(ke.a,{label:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434"})),r.a.createElement(Pe,{value:n,index:0},r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,r.a.createElement(K.a,{variant:"h6"},"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f")),r.a.createElement(Y.a,null,r.a.createElement(oe.a,{error:!!y.title,helperText:y.title,label:"\u041f\u0438\u0442\u0430\u043d\u043d\u044f",value:i.title||"",required:!0,fullWidth:!0,variant:"outlined",name:"title",onChange:S})),r.a.createElement(Y.a,null,r.a.createElement(oe.a,{error:!!y.body,helperText:y.body,label:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u043e",value:i.body||"",required:!0,fullWidth:!0,variant:"outlined",multiline:!0,rows:10,name:"body",onChange:function(e){return S(e)}})),r.a.createElement(Y.a,null,r.a.createElement(oe.a,{error:!!y.category,helperText:y.category,select:!0,name:"category_id",label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f",value:b||"",onChange:function(e){v(e.target.value)},fullWidth:!0,variant:"outlined"},d.map((function(e){return r.a.createElement(xe.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(Y.a,null,r.a.createElement(_.a,{fullWidth:!0,variant:"outlined",onClick:function(){if(!function(){var e=!1;return i.title?O((function(e){return Object(F.a)(Object(F.a)({},e),{},{title:null})})):(O((function(e){return Object(F.a)(Object(F.a)({},e),{},{title:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),i.body?O((function(e){return Object(F.a)(Object(F.a)({},e),{},{body:null})})):(O((function(e){return Object(F.a)(Object(F.a)({},e),{},{body:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),b?O((function(e){return Object(F.a)(Object(F.a)({},e),{},{category:null})})):(O((function(e){return Object(F.a)(Object(F.a)({},e),{},{category:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"})})),e=!0),!e}())return null;try{P().post("questions").send(Object(F.a)(Object(F.a)({},i),{},{category_id:b,body:i.body.replace(/(\n\n\n)+/g,"\n"),title:i.title.replace(/\n/g,"")})).then((function(e){O({title:null,body:null,category:null}),x("/thread/".concat(e.body.data.id))})).catch((function(e){switch(e.status){case 401:x("?login=true")}}))}catch(e){console.error(e)}}},"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438")))),r.a.createElement(Pe,{value:n,index:1},r.a.createElement(De,{preview:!0,thread:{title:i.title||"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u0449\u043e\u0431 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438",body:i.body||"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e \u0449\u043e\u0431 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438"},author:k})))}var Ue=t(93),Me=Object(T.a)((function(e){return{listItemTextFix:{paddingRight:e.spacing(5)},dangerZone:{backgroundColor:Ue.a[700],color:e.palette.common.white,borderColor:e.palette.common.white},noPaddingSides:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0)}}})),Ze=Object(T.a)((function(e){return{root:{width:"100%",height:"100%",position:"relative",display:"flex",overflow:"hidden",justifyContent:"center",alignContent:"center","&:hover div":{display:"block",backgroundColor:"rgba(0.5,0.5,0.5,0.4)",zIndex:"1000"}},input:{zIndex:"1001",left:"0",top:"-100px",width:"100%",height:"calc(100% + 100px)",position:"absolute",color:"transparent",backgroundColor:"transparent","&:hover":{backgroundColor:"rgba(0.2,0.2,0.2,0.2)"},"&:active":{backgroundColor:"rgba(0.2,0.2,0.2,0.3)"}},message:{marginTop:"calc(50% - 26px)",borderRadius:"5px",textAlign:"center",height:"20px",width:"60%",padding:e.spacing(2)},messageUnloaded:{display:"block",backgroundColor:"rgba(0.5,0.5,0.5,0.4)",zIndex:"1000"},img:{color:"white",width:"100%",height:"100%",position:"absolute",left:"0px",top:"0px"},imgIcon:{color:"white",width:"80%",height:"80%",position:"absolute",left:"0px",top:"0px",padding:"10%"},displayNone:{display:"none"},displayBlock:{display:"block"}}})),Ge=t(122),He=t.n(Ge);var Je=Object(B.a)()((function(e){var a=e.onChange,t=void 0===a?function(){}:a,n=e.onError,l=void 0===n?function(){}:n,c=e.src,o=e.width,i=e.date,u=e.children,s=e.disabled,m=void 0!==s&&s,d=(Object(y.a)(e,["onChange","onError","src","width","date","children","disabled"]),Ze());return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:d.root},r.a.createElement("img",{src:c,className:Object(M.a)(d.img,!c&&d.displayNone),alt:i,onError:l}),r.a.createElement(He.a,{className:Object(M.a)(d.imgIcon,c&&d.displayNone)}),!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"file",className:Object(M.a)(d.input),onChange:function(e){return t(e.target.files)},accept:".png,.jpg,.jpeg",multiple:!1}),u&&r.a.createElement("div",{className:Object(M.a)(d.message,Object(B.c)("md",o)&&d.displayNone,!c&&d.messageUnloaded)},u))))}));function Qe(e){var a=e.inputUser,t=void 0===a?{}:a,n=function(){var e=r.a.useState(null),a=Object(p.a)(e,2),t=a[0],n=a[1],l=r.a.useState(0),c=Object(p.a)(l,2),o=c[0],i=c[1];return r.a.useEffect((function(){function e(){i(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),[t,r.a.useCallback((function(e){null!==e&&n(e.getBoundingClientRect())}),[o])]}(),l=Object(p.a)(n,2),c=l[0],o=l[1],i=r.a.useState({image:null,date:(new Date).toString()}),u=Object(p.a)(i,2),s=u[0],m=u[1],d=Object(I.f)(),E=Object(I.h)().id,f=g(),h=f.user,b=f.isAdmin;function v(){m({image:"".concat("https://web.solomaha.com/avatars","/").concat(t.id,".jpg"),date:(new Date).toString()})}return r.a.useEffect((function(){v()}),[E]),r.a.createElement(me.a,{ref:o,style:{width:"100%",height:c&&c.width}},r.a.createElement(Je,{onChange:function(e){P().post("users/".concat(t.id,"/avatar")).attach("avatar",e[0]).then((function(e){v()})).catch((function(e){switch(e.status){case 401:a="?login=true",d.push(a);break;default:console.error(e)}var a}))},onError:function(e){return m({image:null,date:(new Date).toString()})},src:s.image,date:s.date,disabled:!(h&&h.id===t.id||b())},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0438 \u0430\u0432\u0430\u0442\u0430\u0440"))}function Ye(e){var a=e.origUserdata,t=e.init,n=(Object(y.a)(e,["origUserdata","init"]),r.a.useState(!1)),l=Object(p.a)(n,2),c=l[0],o=l[1],i=Object(I.h)().id,u=r.a.useState(Object(F.a)(Object(F.a)({},a),{},{id:void 0})),s=Object(p.a)(u,2),m=s[0],d=s[1],E=g(),f=E.user,h=E.setUser,b=E.isAdmin,v=r.a.useState({name:null,email:null}),j=Object(p.a)(v,2),w=j[0],O=j[1],C=Me(),k=Object(I.f)();function x(e){d(Object(F.a)(Object(F.a)({},m),{},Object(re.a)({},e.target.name,e.target.value)))}return r.a.useEffect((function(){d(Object(F.a)(Object(F.a)({},a),{},{id:void 0}))}),[a]),r.a.createElement(Y.a,null,r.a.createElement(se.a,{container:!0},r.a.createElement(se.a,{item:!0,xs:12,md:6},r.a.createElement(ue.a,{p:1},r.a.createElement(Qe,{inputUser:a}))),r.a.createElement(se.a,{item:!0,xs:12,md:6},r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,r.a.createElement(V.a,{primary:"".concat(a.is_admin?"Admin |":""," \u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"),secondary:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e ".concat(new Date(m.updated_at).toLocaleString()||"recently"),className:Object(M.a)(c&&C.listItemTextFix)}),(f&&f.id===+i||b())&&r.a.createElement($.a,null,!c&&r.a.createElement(J.a,{onClick:function(){o(!0)}},r.a.createElement(Ne.a,{fontSize:"small"})),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{onClick:function(){if(!function(){var e=!1;return m.name?O((function(e){return Object(F.a)(Object(F.a)({},e),{},{name:null})})):(O((function(e){return Object(F.a)(Object(F.a)({},e),{},{name:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),m.email?O((function(e){return Object(F.a)(Object(F.a)({},e),{},{email:null})})):(O((function(e){return Object(F.a)(Object(F.a)({},e),{},{email:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),!e}())return null;P().put("users/".concat(i)).send(m).then((function(e){f.id===+i&&h(e.body.data),o(!1),t()})).catch((function(e){switch(e.status){case 401:a="?login=true",k.push(a);break;default:console.error(e)}var a}))}},r.a.createElement(Te.a,{fontSize:"small"})),r.a.createElement(J.a,{onClick:function(){d(a),o(!1)}},r.a.createElement(Ie.a,{fontSize:"small"}))))),r.a.createElement(Y.a,null,r.a.createElement(oe.a,{error:!!w.name,helperText:w.name,disabled:!c,fullWidth:!0,name:"name",label:"\u0406\u043c'\u044f",value:m.name,onChange:x})),r.a.createElement(Y.a,null,r.a.createElement(oe.a,{error:!!w.email,helperText:w.email,disabled:!c,name:"email",fullWidth:!0,label:"Email",value:m.email,onChange:x})))),r.a.createElement(se.a,{xs:12},r.a.createElement(oe.a,{variant:"outlined",multiline:!0,rows:c?10:5,label:"\u041f\u0440\u043e \u043c\u0435\u043d\u0435",fullWidth:!0,name:"about_me",onChange:x,value:m.about_me,disabled:!c}))))}var Ke=t(247);function $e(e){var a=e.handleClick,t=e.shown,n=e.name;return r.a.createElement(H.a,{position:"end"},r.a.createElement(J.a,{"aria-label":"toggle password visibility",onClick:function(e){return a(e,n)}},t?r.a.createElement(ae.a,null):r.a.createElement(te.a,null)))}function Ve(e){var a=e.inputUser,t=r.a.useState({oldpassword:!1,newpassword:!1,confirmnewpassword:!1}),n=Object(p.a)(t,2),l=n[0],c=n[1],o=r.a.useState({password:null,newpassword:null,confirmpassword:null}),i=Object(p.a)(o,2),u=i[0],s=i[1],m=r.a.useState(null),d=Object(p.a)(m,2),E=d[0],f=d[1],h=Object(I.f)();function b(e,a){c(Object(F.a)(Object(F.a)({},l),{},Object(re.a)({},a,!l[a])))}function g(e){s(Object(F.a)(Object(F.a)({},u),{},Object(re.a)({},e.target.name,e.target.value)))}return r.a.createElement(Y.a,null,r.a.createElement(Ke.a,{fullWidth:!0},r.a.createElement(le.a,null,"Change password"),r.a.createElement(se.a,{container:!0},r.a.createElement(se.a,{item:!0,xs:12,md:6},r.a.createElement(ue.a,{p:1},r.a.createElement(G.a,{required:!0,name:"password",onChange:g,type:l.oldpassword?"text":"password",fullWidth:!0,placeholder:"\u0421\u0442\u0430\u0440\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"password",endAdornment:r.a.createElement($e,{handleClick:b,shown:l.oldpassword,name:"oldpassword"})}))),r.a.createElement(se.a,{item:!0,xs:12,md:6},r.a.createElement(ue.a,{p:1},r.a.createElement(G.a,{required:!0,type:l.newpassword?"text":"password",fullWidth:!0,placeholder:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"new-password",name:"newpassword",onChange:g,endAdornment:r.a.createElement($e,{handleClick:b,shown:l.newpassword,name:"newpassword"})}),r.a.createElement(G.a,{name:"confirmpassword",onChange:g,required:!0,type:l.confirmnewpassword?"text":"password",fullWidth:!0,placeholder:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"confirm-new-password",endAdornment:r.a.createElement($e,{handleClick:b,shown:l.confirmnewpassword,name:"confirmnewpassword"})}))),r.a.createElement(le.a,{error:!0},E),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(_.a,{fullWidth:!0,variant:"outlined",onClick:function(){if(function(){var e=!1;return u.newpassword!==u.confirmpassword&&(f("\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c"),e=!0),u.newpassword&&u.confirmpassword&&u.password||(f("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),e=!0),e}())return null;P().put("users/".concat(a.id)).send({old_password:u.password,password:u.newpassword}).then((function(e){console.log("Changed password for ".concat(a.name," | ").concat(a.email))})).catch((function(e){switch(e.status){case 401:a="?login=true",h.push(a);break;case 422:f("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),s(Object(F.a)(Object(F.a)({},u),{},{password:null}));default:console.error(e)}var a}))}},"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")))))}function Xe(e){var a=e.viewed_user,t=e.updateInfo,n=(Object(y.a)(e,["viewed_user","updateInfo"]),Me()),l=g(),c=l.user,o=l.setUser,i=l.setToken,u=l.isAdmin,s=Object(I.h)().id,m=Object(I.f)(),d=W();function E(e){m.push(e)}function f(){c&&P().delete("users/".concat(s)).then((function(e){c.id==s?(o(null),i(null),E("/threads")):E("/users")})).catch((function(e){switch(e.status){case 401:E("?login=true");break;default:console.error(e)}}))}function p(){P().put("users/".concat(s)).send({is_admin:!0}).then((function(e){t()})).catch((function(e){switch(e.status){case 401:E("?login=true");break;default:console.error(e)}}))}function h(){P().put("users/".concat(s)).send({is_admin:!1}).then((function(e){t()})).catch((function(e){switch(e.status){case 401:E("?login=true");break;default:console.error(e)}}))}return r.a.createElement(Y.a,{className:n.dangerZone},r.a.createElement(Ke.a,{fullWidth:!0},r.a.createElement(le.a,{className:n.dangerZone},"\u041d\u0435\u0431\u0435\u0437\u043f\u0435\u0447\u043d\u0430 \u0437\u043e\u043d\u0430"),r.a.createElement(Q.a,null,r.a.createElement(Y.a,{className:n.noPaddingSides},r.a.createElement(_.a,{fullWidth:!0,variant:"outlined",className:n.dangerZone,onClick:function(){d(f,{title:" \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0430\u043a\u0430\u0443\u043d\u0442: ".concat(a.name),text:"\u0426\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0432\u0456\u0434\u043c\u0456\u043d\u0435\u043d\u0430"})}},"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0430\u043a\u0430\u0443\u043d\u0442")),u()&&a.id!==c.id&&r.a.createElement(r.a.Fragment,null,!a.is_admin&&r.a.createElement(Y.a,{className:n.noPaddingSides},r.a.createElement(_.a,{fullWidth:!0,variant:"outlined",className:n.dangerZone,onClick:function(){d(p,{title:"\u0417\u0440\u043e\u0431\u0438\u0442\u0438 ".concat(a.name," | ").concat(a.email," \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c?"),text:"\u0426\u0435 \u043e\u043f\u0430\u0441\u043d\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u044f, \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u043c\u043e\u0436\u0435 \u0432\u0438\u0434\u0430\u043b\u044f\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f, \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0456, \u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432. \u0422\u0430\u043a\u043e\u0436 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u043c\u043e\u0436\u0435 \u043f\u0438\u0432\u0438\u0441\u0438\u0442\u0438 \u0456\u043d\u0448\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0434\u043e \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u0447\u0438 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0439\u043e\u0433\u043e"})}},"\u0417\u0440\u043e\u0431\u0438\u0442\u0438 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c")),a.is_admin&&r.a.createElement(Y.a,{className:n.noPaddingSides},r.a.createElement(_.a,{fullWidth:!0,variant:"outlined",className:n.dangerZone,onClick:function(){d(h,{title:"Remove admin on ".concat(a.name," | ").concat(a.email,"?"),text:"After removing admin user can not modify and delete threads, answers, users and manage admins"})}},"\u0417\u0430\u0431\u0440\u0430\u0442\u0438 \u0430\u0434\u043c\u0456\u043d\u0456\u043c\u0442\u0440\u0430\u0442\u043e\u0440\u0430"))))))}function ea(){var e=g(),a=e.user,t=e.isAdmin,n=Object(I.h)().id,l=r.a.useState({name:"",email:"",interests:"",about_me:""}),c=Object(p.a)(l,2),o=c[0],i=c[1],u=r.a.useState(!0),s=Object(p.a)(u,2),m=s[0],d=s[1],E=!1;function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&d(!0),P().get("users/".concat(n)).then((function(a){var t=Object(F.a)(Object(F.a)({},a.body.data),{},{interests:"lol"});i(t),e&&d(!1)})).catch((function(a){console.error(a),e&&d(!1)}))}return r.a.useEffect((function(){E=!0,f(!0)}),[]),r.a.useEffect((function(){f(!0)}),[n,a]),E||m?null:r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(Q.a,null,r.a.createElement(Ye,{origUserdata:o,init:f}),a&&a.id===+n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,null),r.a.createElement(Ve,{inputUser:o})),(a&&a.id===+n||t())&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,null),r.a.createElement(Xe,{viewed_user:o,updateInfo:f}),r.a.createElement(ie.a,null))))}var aa=t(251),ta=t(252),na=t(253),ra=t(254),la=t(255),ca=t(268);function oa(e){var a=e.user,t=(Object(y.a)(e,["user"]),Object(I.f)()),n=r.a.useState(!0),l=Object(p.a)(n,2);l[0],l[1];function c(e){t.push(e)}return r.a.createElement(se.a,{item:!0,xs:12,md:6},r.a.createElement(ue.a,{p:1},r.a.createElement(aa.a,null,r.a.createElement(ta.a,{onClick:function(e){return c("/user/".concat(a.id))}},r.a.createElement(na.a,{component:"img",image:"".concat("https://web.solomaha.com/avatars","/").concat(a.id,".jpg"),alt:"Avatar of user ".concat(a.name),height:"140",title:a.name,onError:function(e){return e.target.src="https://ssl.gstatic.com/images/branding/product/1x/avatar_circle_grey_512dp.png"}}),r.a.createElement(ra.a,null,r.a.createElement(K.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.name),r.a.createElement(K.a,{variant:"body2",color:"textSecondary",component:"p"},"".concat(a.is_admin?"Admin | ":"").concat(a.email)))),r.a.createElement(la.a,null,r.a.createElement(_.a,{size:"small",color:"primary",onClick:function(e){return c("/user/".concat(a.id))}},"\u041f\u0440\u043e\u0444\u0456\u043b\u044c")))))}function ia(){var e=r.a.useState([]),a=Object(p.a)(e,2),t=a[0],n=a[1],l=r.a.useState(!0),c=Object(p.a)(l,2),o=c[0],i=c[1];return r.a.useEffect((function(){i(!0),P().get("users").then((function(e){n(e.body.data),i(!1)})).catch(console.error)}),[]),o?null:r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(ue.a,{p:1},r.a.createElement(se.a,{container:!0},r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(ue.a,{p:1},r.a.createElement(ca.a,{"aria-label":"breadcrumb"},r.a.createElement(K.a,{color:"textPrimary"},"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456")))),t.map((function(e){return r.a.createElement(oa,{key:"user-card-".concat(e.id),user:e})})))))}var ua=Object(T.a)((function(e){return{threadsList:{paddingRight:e.spacing(6)},pagination:{display:"inline-flex"},paginationContainer:{display:"flex",justifyContent:"center"},ratingBadge:{color:e.palette.grey[500]}}})),sa=t(256),ma=t(265),da=t(257),Ea=t(273),fa=t(124),pa=t.n(fa),ha=t(123),ba=t.n(ha);function ga(e){var a=e.thread,t=(Object(y.a)(e,["thread"]),ua()),n=Object(I.f)();var l=r.a.createElement(K.a,null,a.title),c=r.a.createElement($.a,null,r.a.createElement(sa.a,{badgeContent:a.reply_count,showZero:!0,color:"primary"},r.a.createElement(ba.a,{className:t.ratingBadge})),r.a.createElement(sa.a,{badgeContent:a.views_count,showZero:!0,color:"primary"},r.a.createElement(pa.a,{className:t.ratingBadge})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{button:!0,onClick:function(e){return t="/thread/".concat(a.id),void n.push(t);var t}},r.a.createElement(ye.a,null,r.a.createElement(me.a,{src:"".concat("https://web.solomaha.com/avatars","/").concat(a.user.id,".jpg")})),r.a.createElement(V.a,{primary:l,secondary:"".concat(a.user.name," | ").concat(new Date(a.created_at).toLocaleString()),className:t.threadsList}),c),r.a.createElement(ie.a,null))}function va(e){var a=e.articles,t=e.setArticles,n=(Object(y.a)(e,["articles","setArticles"]),ua()),l=Object(I.f)(),c=r.a.useState("created_at"),o=Object(p.a)(c,2),i=o[0],u=o[1],s=r.a.useState(1),m=Object(p.a)(s,2),d=m[0],E=m[1],f=r.a.useState(1),h=Object(p.a)(f,2),b=h[0],v=h[1],j=Object(I.g)(),w=Object(I.h)().mode,O=U.a.parse(j.search,{ignoreQueryPrefix:!0}).search,C=g().user,k=r.a.useRef();function x(e){O?P().get("questions").query({search:O,page:e,sort:i}).then((function(e){t(e.body.data)})).catch((function(e){console.error(e)})):P().get("questions".concat(w&&C?"/".concat(w):"")).query({page:e,sort:i}).then((function(e){t(e.body.data),E(e.body.meta.last_page)})).catch((function(e){console.error(e)}))}return r.a.useEffect((function(){return x(1),clearInterval(k.current),k.current=setInterval((function(){O?console.log("Sync [threads]: skipping synchronization (".concat((new Date).toLocaleString(),")")):(console.log("Sync [threads]: synchronizing (".concat((new Date).toLocaleString(),")")),x())}),3e4),function(){clearInterval(k.current)}}),[w,i]),r.a.useEffect((function(){x(1)}),[O,i]),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(ue.a,{p:1},r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,r.a.createElement(ca.a,{"aria-label":"breadcrumb"},!O&&r.a.createElement(K.a,{color:"textPrimary"},"\u041f\u0438\u0442\u0430\u043d\u043d\u044f"),O&&r.a.createElement(Be.a,{onClick:function(e){return a="/threads",void l.push(a);var a},color:"textPrimary"},"\u041f\u0438\u0442\u0430\u043d\u043d\u044f"),O&&r.a.createElement(K.a,{color:"textPrimary"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u0434\u043b\u044f: ",O))),r.a.createElement(Y.a,null,r.a.createElement(Ea.a,{value:i,size:"small",exclusive:!0,onChange:function(e,a){u(a)}},r.a.createElement(da.a,{value:"created_at"},"\u041d\u0430\u0439\u043d\u043e\u0432\u0456\u0448\u0456"),r.a.createElement(da.a,{value:"reply_count"},"\u041f\u043e \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044f\u043c"),r.a.createElement(da.a,{value:"views_count"},"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456"))),a.map((function(e,a){return r.a.createElement(ga,{thread:e,key:"artciles_".concat(a)})}))),r.a.createElement("div",{className:n.paginationContainer},r.a.createElement(ma.a,{count:d,page:b,onChange:function(e,a){v(a),x(a)},className:n.pagination}))))}var ja=t(137),wa=Object(T.a)((function(e){return{width100:{width:"100%"}}}));function ya(e){var a=e.answer,t=e.onEdited,n=void 0===t?function(){}:t,l=(Object(y.a)(e,["answer","onEdited"]),g()),c=l.user,o=l.isAdmin,i=r.a.useState(!1),u=Object(p.a)(i,2),s=u[0],m=u[1],d=r.a.useState(a.text),E=Object(p.a)(d,2),f=E[0],h=E[1],b=Object(I.f)(),v=Se(),j=(Object(I.h)().id,r.a.useRef()),w=r.a.useState(null),O=Object(p.a)(w,2),C=O[0],k=O[1];function x(e){b.push(e)}r.a.useEffect((function(){return j.current=!0,function(){return j.current=!1}}),[]),r.a.useEffect((function(){h(a.text)}),[a]);var S=r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{variant:"h6"},a.user.name),!s&&a.text&&r.a.createElement(K.a,{style:{whiteSpace:"pre-wrap"}},r.a.createElement(qe,{message:a.text})),s&&r.a.createElement(oe.a,{helperText:C,error:!!C,fullWidth:!0,label:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c",variant:"outlined",size:"small",multiline:!0,rows:4,onChange:function(e){h(e.target.value)},value:f,required:!0}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{alignItems:"flex-start"},r.a.createElement(ye.a,null,r.a.createElement(me.a,{onClick:function(e){return x("/user/".concat(a.user.id))},src:"".concat("https://web.solomaha.com/avatars","/").concat(a.user.id,".jpg")})),r.a.createElement(V.a,{primary:S,secondary:"\u043e\u043f\u0443\u0431\u043b\u0456\u043a\u043e\u0432\u0430\u043d\u043e ".concat(new Date(a.created_at).toLocaleString()),className:Object(M.a)(v.listItemTextFix,v.overflowHidden)}),(c&&c.id===a.user.id||o())&&r.a.createElement($.a,null,!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{onClick:function(e){return m(!0)}},r.a.createElement(Ne.a,{fontSize:"small"})),r.a.createElement(J.a,{onClick:function(){P().delete("replies/".concat(a.id)).then((function(e){n()})).catch((function(e){switch(e.status){case 401:x("?login=true");break;default:console.error(e)}}))}},r.a.createElement(We.a,{fontSize:"small"}))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{onClick:function(){if(""===f&&(k("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),1))return null;P().put("replies/".concat(a.id)).send({text:f}).then((function(e){m(!1),n(f),k(null)})).catch((function(e){switch(e.status){case 401:x("?login=true");break;default:k("Error"),console.error(e)}}))}},r.a.createElement(Te.a,{fontSize:"small"})),r.a.createElement(J.a,{onClick:function(e){m(!1),h(a.text)}},r.a.createElement(Ie.a,{fontSize:"small"}))))),r.a.createElement(ie.a,null))}var Oa=Object(B.a)()((function(e){var a=e.width,t=(Object(y.a)(e,["width"]),r.a.useState({})),n=Object(p.a)(t,2),l=n[0],c=n[1],o=r.a.useState({}),i=Object(p.a)(o,2),u=i[0],s=i[1],m=r.a.useState([]),d=Object(p.a)(m,2),E=d[0],f=d[1],h=r.a.useState(""),b=Object(p.a)(h,2),v=b[0],j=b[1],w=r.a.useState(null),O=Object(p.a)(w,2),C=O[0],k=O[1],x=Object(I.h)().id,S=g().user,N=wa(),A=Object(I.f)(),W=r.a.useRef();function T(e){A.push(e)}function z(){P().get("questions/".concat(x)).then((function(e){c(Object(F.a)({},e.body.data.user)),s(Object(F.a)(Object(F.a)({},e.body.data),{},{replies:void 0,user:void 0,user_id:void 0})),f(Object(ja.a)(e.body.data.replies))})).catch((function(e){console.error(e)}))}function L(){P().get("questions/".concat(x,"/replies")).then((function(e){f(e.body.data)})).catch((function(e){console.error(e)}))}return r.a.useEffect((function(){return clearInterval(W.current),z(),W.current=setInterval((function(){console.log("Sync [thread]: synchronizing (".concat((new Date).toLocaleString(),")")),z()}),3e4),function(){clearInterval(W.current)}}),[x]),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(ue.a,{p:1},r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,r.a.createElement(ca.a,{"aria-label":"breadcrumb"},r.a.createElement(Be.a,{color:"inherit",onClick:function(){return T("/threads")}},"\u041f\u0438\u0442\u0430\u043d\u043d\u044f"),r.a.createElement(K.a,{color:"textPrimary"},u.title))),r.a.createElement(De,{author:l,thread:u,onEdited:function(){P().get("questions/".concat(x)).then((function(e){s(Object(F.a)(Object(F.a)({},e.body.data),{},{replies:void 0,user:void 0,user_id:void 0}))})).catch((function(e){console.error(e)}))}}),r.a.createElement(ie.a,null),r.a.createElement(Y.a,{id:"answers"},r.a.createElement(Q.a,{className:N.width100},E.map((function(e,a){return r.a.createElement(ya,{key:"answer_".concat(a,"_").concat(u.id,"_").concat(l.id),answer:e,onEdited:L})})))),S&&r.a.createElement(Y.a,{id:"compose"},r.a.createElement(se.a,{container:!0},r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(oe.a,{error:!!C,helperText:C,value:v,multiline:!0,rows:8,variant:"outlined",label:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c",fullWidth:!0,onChange:function(e){j(e.target.value)}})),Object(B.c)("sm",a)&&r.a.createElement(se.a,{item:!0,md:9}),r.a.createElement(se.a,{item:!0,xs:12,md:3},r.a.createElement(_.a,{fullWidth:!0,onClick:function(){if(""===v&&(k("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),1))return null;P().post("questions/".concat(x,"/replies")).send({text:v}).then((function(e){L(),j(""),k(null)})).catch((function(e){switch(e.status){case 401:T("?login=true");break;default:k("Error"),console.error(e)}}))}},"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438")))),!S&&r.a.createElement(Y.a,null,r.a.createElement(V.a,{secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(Be.a,{onClick:function(e){return T("?login=true")}},"Login"),"\xa0or\xa0",r.a.createElement(Be.a,{onClick:function(e){return T("?register=true")}},"sign up"),"\xa0to leave answers")})))))})),Ca=Object(T.a)((function(e){return{logo:{width:"100%"}}})),ka=t(125),xa=t.n(ka);function Sa(){var e=Object(I.f)();var a=Ca();return r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,r.a.createElement(se.a,{container:!0,justify:"center"},r.a.createElement(se.a,{item:!0,xs:8,md:6},r.a.createElement("img",{src:xa.a,alt:"Logo",className:a.logo})))),r.a.createElement(Y.a,null,r.a.createElement(K.a,{variant:"h5"},"\u0429\u043e \u0442\u0430\u043a\u0435 Readit")),r.a.createElement(Y.a,null,r.a.createElement(K.a,{variant:"body1"},"Readit - \u0446\u0435 \u0444\u0443\u043d\u043a\u0446\u0456\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0439 \u0432\u0435\u0431 \u043f\u043e\u0440\u0442\u0430\u043b \u0434\u043b\u044f \u0437\u043d\u0430\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0456 \u043d\u0430 \u0431\u0443\u0434\u044c-\u044f\u043a\u0456 \u043f\u0438\u0442\u0430\u043d\u043d\u044f. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u043d\u0430 \u0431\u0443\u0434\u044c-\u044f\u043a\u0456 \u0442\u0435\u043c\u0438, \u0430 \u0456\u043d\u0448\u0456 \u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0432\u0430\u043c \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0441\u0442\u0438 \u043d\u0430 \u0432\u0430\u0448\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f.")),r.a.createElement(Y.a,null,r.a.createElement(K.a,{variant:"h5"},"\u0427\u043e\u043c\u0443 Readit")),r.a.createElement(Y.a,null,r.a.createElement(K.a,{variant:"body1"},"\u0423 \u043d\u0430\u0441 \u0432\u0438 \u0437\u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u043d\u0430\u0439\u0442\u0438 \u0432\u0456\u0434\u0437\u0438\u0432\u0447\u0438\u0432\u0435 \u043a\u043e\u043c\u044c\u044e\u043d\u0456\u0442\u0456. \u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u0441\u0430\u0439\u0442\u0443 \u043d\u0435 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0433\u0440\u0443\u0431\u043e \u0432\u0456\u0434\u043d\u043e\u0441\u0438\u0442\u0438\u0441\u044c \u0434\u043e \u0441\u043f\u0456\u0432\u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0456\u0432 \u0444\u043e\u0440\u0443\u043c\u0443. \u0417\u043d\u0430\u0439\u0434\u0435\u0442\u044c\u0441\u044f \u0431\u0430\u0433\u0430\u0442\u043e \u043b\u044e\u0434\u0435\u0439, \u0449\u043e \u0437\u0430\u0445\u043e\u0447\u0443\u0442\u044c \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0442\u0438 \u0432\u0430\u043c \u0437 \u0432\u0430\u0448\u043e\u044e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u043e\u044e.")),r.a.createElement(Y.a,null,r.a.createElement(K.a,{variant:"h5"},"\u0429\u043e \u0440\u043e\u0431\u0438\u0442\u0438?")),r.a.createElement(Y.a,null,r.a.createElement(K.a,{variant:"body1"},"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u0454:")),r.a.createElement(Y.a,null,r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,r.a.createElement(V.a,{primary:"\u0421\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f"})),r.a.createElement(Y.a,null,r.a.createElement(V.a,{primary:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0442\u0438 \u043d\u0430 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u0456\u043d\u0448\u0438\u0445 \u043b\u044e\u0434\u0435\u0439"})),r.a.createElement(Y.a,null,r.a.createElement(V.a,{primary:"\u041a\u0430\u0441\u0442\u043e\u043c\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0441\u0432\u0456\u0439 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"})),r.a.createElement(Y.a,null,r.a.createElement(V.a,{primary:"\u0417\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0438 \u043e\u0434\u043d\u043e\u0434\u0443\u043c\u0446\u0456\u0432"})))),r.a.createElement(Y.a,null,r.a.createElement(K.a,{variant:"h5"},"\u0406 \u0449\u043e \u0434\u0430\u043b\u0456?")),r.a.createElement(Y.a,null,r.a.createElement(K.a,{variant:"body1"},"\u0412\u043f\u0435\u0440\u0435\u0434, \u0441\u043f\u0456\u043b\u043a\u0443\u0432\u0430\u0442\u0438\u0441\u044f!")),r.a.createElement(Y.a,null,r.a.createElement(_.a,{onClick:function(){return a="/threads",void e.push(a);var a},variant:"outlined",fullWidth:!0},"\u0414\u043e \u043f\u0438\u0442\u0430\u043d\u044c"))))}function _a(e){var a=e.articles,t=e.setArticles,n=(Object(y.a)(e,["articles","setArticles"]),g().user);return r.a.createElement(I.c,null,r.a.createElement(I.a,{path:"/threads/:mode?"},r.a.createElement(va,{articles:a,setArticles:t})),r.a.createElement(I.a,{path:"/",exact:!0},r.a.createElement(va,{articles:a,setArticles:t})),r.a.createElement(I.a,{path:"/thread/:id"},r.a.createElement(Oa,null)),n&&r.a.createElement(I.a,{path:"/editthread/:id"},r.a.createElement(Re,null)),r.a.createElement(I.a,{path:"/user/:id"},r.a.createElement(ea,null)),r.a.createElement(I.a,{path:"/users"},r.a.createElement(ia,null)),r.a.createElement(I.a,{path:"/about"},r.a.createElement(Sa,null)))}var Na=Object(T.a)((function(e){return{footer:{backgroundColor:e.palette.footer.main,borderTop:"5px solid",borderColor:e.palette.footer.light,color:e.palette.common.white},copyright:{backgroundColor:e.palette.footer.dark,color:e.palette.common.white}}}));function Aa(){var e=Object(I.f)(),a=Na();function t(a){e.push(a)}return r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(f.a,{theme:m},r.a.createElement(ue.a,{p:2,className:a.footer},r.a.createElement(se.a,{container:!0},r.a.createElement(se.a,{item:!0,xs:12,md:3},r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,"\u0420\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0438"),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"#",onClick:function(e){return t("/user/13")}},"\u0410\u043d\u0434\u0440\u0454\u0454\u0432 \u0414\u0430\u043d\u0438\u043b\u043e")),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"#",onClick:function(e){return t("/user/19")}},"\u0421\u043e\u043b\u043e\u043c\u0430\u0445\u0430 \u041e\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440")),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"#",onClick:function(e){return t("/user/25")}},"\u041d\u0435\u0441\u0442\u0435\u0440\u043e\u0432 \u041c\u0438\u043a\u0438\u0442\u0430")))),r.a.createElement(se.a,{item:!0,xs:12,md:3},r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,"\u0420\u043e\u0437\u0434\u0456\u043b\u0438"),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"#",onClick:function(e){return t("/threads")}},"\u041f\u0438\u0442\u0430\u043d\u043d\u044f")),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"#",onClick:function(e){return t("/users")}},"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456")),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"#",onClick:function(e){return t("/editthread/new")}},"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f")))),r.a.createElement(se.a,{item:!0,xs:12,md:3},r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0456 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u0457"),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"https://reactjs.org/"},"React")),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"https://material-ui.com/"},"Material UI")),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"https://laravel.com/"},"Laravel")))),r.a.createElement(se.a,{item:!0,xs:12,md:3},r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,"\u0420\u043e\u0437\u0440\u043e\u0431\u043a\u0430"),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"https://github.com/DanilAndreev/starscream_project"},"Github \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0439")),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"https://github.com/DanilAndreev/starscream_project/tree/master/web"},"Github \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0439 front-end")),r.a.createElement(Y.a,null,r.a.createElement(Be.a,{href:"https://github.com/DanilAndreev/starscream_project/tree/master/backend"},"Github \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0439 back-end")))))),r.a.createElement(se.a,{container:!0,className:a.copyright},r.a.createElement(ue.a,{p:2},r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(K.a,{variant:"subtitle2",align:"center"},"Copyright (\u0421) Andrieiev Solomaha Nesterov 2020 All rights reserved"))))))}var Wa=t(126),Fa=t.n(Wa),Ta=t(127),za=t.n(Ta),Ia=t(130),Ba=t.n(Ia),La=t(131),qa=t.n(La),Da=t(129),Pa=t.n(Da),Ra=t(128),Ua=t.n(Ra);function Ma(){var e=z(),a=g().user,t=Object(I.f)();function n(e){t.push(e)}return r.a.createElement(Q.a,null,r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/threads")}},r.a.createElement(Fa.a,{fontSize:"small"}),r.a.createElement(V.a,{primary:"\u0412\u0441\u0456 \u043f\u0438\u0442\u0430\u043d\u043d\u044f",className:e.leftPanelButtonsText})),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/threads/my")}},r.a.createElement(za.a,{fontSize:"small"}),r.a.createElement(V.a,{primary:"\u041c\u043e\u0457 \u043f\u0438\u0442\u0430\u043d\u043d\u044f",className:e.leftPanelButtonsText})),r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/threads/commented")}},r.a.createElement(Ua.a,{fontSize:"small"}),r.a.createElement(V.a,{primary:"\u041f\u0440\u043e\u043a\u043e\u043c\u0435\u043d\u0442\u043e\u0432\u0430\u043d\u0456 \u043c\u043d\u043e\u044e",className:e.leftPanelButtonsText}))),r.a.createElement(ie.a,null),a&&r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/user/".concat(a.id))}},r.a.createElement(Pa.a,{fontSize:"small"}),r.a.createElement(V.a,{primary:"\u041c\u0456\u0439 \u043f\u0440\u043e\u0444\u0456\u043b\u044c",className:e.leftPanelButtonsText})),r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/users")}},r.a.createElement(Ba.a,{fontSize:"small"}),r.a.createElement(V.a,{primary:"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456",className:e.leftPanelButtonsText})),r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/about")}},r.a.createElement(qa.a,{fontSize:"small"}),r.a.createElement(V.a,{primary:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f",className:e.leftPanelButtonsText})))}var Za=t(132),Ga=t.n(Za);var Ha=Object(B.a)()((function(e){var a=e.width,t=(Object(y.a)(e,["width"]),z()),n=Object(I.f)(),l=r.a.useState(""),c=Object(p.a)(l,2),o=c[0],i=c[1],u=r.a.useState([]),s=Object(p.a)(u,2),m=s[0],d=s[1],h=r.a.useState({email:null,password:null,remember:!1}),b=Object(p.a)(h,2),v=b[0],j=b[1],w=g(),k=w.user,x=w.setUser,S=w.setToken,N=r.a.useState(!1),A=Object(p.a)(N,2),W=A[0],T=A[1],L=Object(I.g)(),q=U.a.parse(L.search,{ignoreQueryPrefix:!0}),D=q.register,R=q.login,Z=q.menu,G=!1,H=r.a.useState([]),K=Object(p.a)(H,2),X=K[0],ee=K[1];function ae(e){n.push(e)}function te(){P().get("questions/top10").then((function(e){ee(e.body.data)})).catch((function(e){console.error(e)}))}function re(){P().post("auth/logout").send({}).then((function(e){S(null),x(null)})).catch((function(e){switch(e.status){case 401:ae("?login=true");break;default:console.error(e)}}))}function le(){o&&ae("/threads?search=".concat(o)),!o&&ae("/threads")}function he(e){ae(L.pathname)}return r.a.useEffect((function(){G=!0}),[]),r.a.useEffect((function(){G=!0,P().get("users/me").then((function(e){x(Object(F.a)(Object(F.a)({},e.body.data),{},{created_at:void 0,updated_at:void 0})),T(!0),console.log("Automatically authorized as ".concat(e.body.data.name))})).catch((function(e){switch(e.status){case 401:x(null),T(!0),console.log("Automatically authorized as guest");break;default:console.error("Failed to auto-authorize, error:",e)}}))}),[]),r.a.useEffect((function(){G=!0,te();var e=setInterval((function(){te(),console.log("Sync [top10threads]: synchronizing (".concat((new Date).toLocaleString(),")"))}),3e4);return function(){clearInterval(e)}}),[]),G||!W?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{"aria-labelledby":"auth-dialog",open:!!R,onClose:function(){ae(L.pathname),j({username:null,password:null})}},r.a.createElement(C.a,{id:"auth-dialog-title"},"\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u044f"),r.a.createElement(ne,{authData:v,setAuthData:j,onComplete:he})),r.a.createElement(O.a,{"aria-labelledby":"auth-dialog",open:!!D,onClose:function(){ae(L.pathname)}},r.a.createElement(C.a,{id:"auth-dialog-title"},"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"),r.a.createElement(ce,{onComplete:he})),Object(B.b)("md",a)&&r.a.createElement(fe.a,{anchor:"left",open:!!Z,onClose:function(e){return ae(L.pathname)},onOpen:function(e){return ae("?menu=true")},swipeAreaWidth:40,classes:{paperAnchorLeft:t.menuDrawer}},r.a.createElement(Q.a,null,k&&r.a.createElement(Y.a,null,r.a.createElement(ye.a,null,r.a.createElement(me.a,{src:"".concat("https://web.solomaha.com/avatars","/").concat(k.id,".jpg")})),r.a.createElement(V.a,{primary:k&&k.name,secondary:k&&k.email}),r.a.createElement($.a,null,r.a.createElement(J.a,{edge:"end","aria-label":"logout",onClick:re},r.a.createElement(we.a,null)))),!k&&r.a.createElement(Y.a,null,r.a.createElement(pe.a,{fullWidth:!0},r.a.createElement(_.a,{onClick:function(e){return ae("?register=true")}},"Register"),r.a.createElement(_.a,{onClick:function(e){return ae("?login=true")}},"Login")))),r.a.createElement(Ma,null),r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,r.a.createElement(V.a,{primary:"\u0422\u043e\u043f 10 \u043f\u0438\u0442\u0430\u043d\u044c"})),r.a.createElement(ie.a,null),X.map((function(e,a){return r.a.createElement(Oe,{key:"top_artciles_".concat(a),thread:e})})))),r.a.createElement(de.a,{position:Object(B.c)("md",a)?"static":"fixed"},r.a.createElement(Ee.a,null,Object(B.b)("sm",a)&&r.a.createElement(J.a,{onClick:function(e){return Object(B.b)("md",a)&&ae("?menu=true")}},r.a.createElement(ve.a,{color:"inherit",className:t.menuIcon})),r.a.createElement("div",{className:t.title},r.a.createElement(_.a,{onClick:function(e){return ae("/about")}},r.a.createElement("img",{src:Ga.a,alt:"Logo",className:Object(M.a)(t.logo)}))),!k&&r.a.createElement(_.a,{color:"inherit",onClick:function(){return ae("?register=true")}},"Sign up"),!k&&r.a.createElement(_.a,{color:"inherit",onClick:function(){return ae("?login=true")}},"Login"),k&&r.a.createElement(_.a,{color:"inherit",onClick:function(e){return ae("/user/".concat(k.id))}},Object(B.c)("md",a)&&k.name,r.a.createElement(me.a,{className:t.avatar,src:"".concat("https://web.solomaha.com/avatars","/").concat(k.id,".jpg")})),k&&Object(B.c)("sm",a)&&r.a.createElement(_.a,{color:"inherit",onClick:re},"Logout"))),r.a.createElement(se.a,{container:!0,className:Object(M.a)(Object(B.b)("sm",a)&&t.appBarMobileMargin)},Object(B.c)("sm",a)&&r.a.createElement(se.a,{item:!0,md:1,lg:2}),r.a.createElement(se.a,{item:!0,xs:12,md:10,lg:8,id:"page"},r.a.createElement(ue.a,null,r.a.createElement(f.a,{theme:E},r.a.createElement(se.a,{container:!0,className:t.topLine},r.a.createElement(se.a,{item:!0,xs:12,md:2}),r.a.createElement(se.a,{item:!0,xs:12,md:7},r.a.createElement(ue.a,{p:1},r.a.createElement("div",{className:t.searchLineBase},r.a.createElement(oe.a,{value:o,fullWidth:!0,variant:"filled",label:"\u0417\u043d\u0430\u0439\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f",size:"small",name:"search",onChange:function(e){i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(le(),i(""))},autoComplete:"search",InputLabelProps:{classes:{root:t.whiteColor}},InputProps:{disableUnderline:!0,classes:{root:t.InputRoot,input:t.whiteColor}}}),r.a.createElement(_.a,{variant:"contained",color:"primary",onClick:le},r.a.createElement(be.a,null))))),r.a.createElement(se.a,{item:!0,xs:12,md:3},r.a.createElement("div",{className:t.createThreadButtonContainer},r.a.createElement(ue.a,{p:1,className:t.createThreadButtonBox},r.a.createElement(_.a,{fullWidth:!0,variant:"contained",color:"secondary",className:t.createThreadButton,onClick:function(e){k&&ae("/editthread/new"),!k&&ae("?login=true")}},"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f")))))),r.a.createElement(se.a,{container:!0},r.a.createElement(f.a,{theme:E},Object(B.c)("md",a)&&r.a.createElement(se.a,{item:!0,xs:12,md:2,className:t.leftColumn},r.a.createElement(ue.a,{p:1},r.a.createElement(Ma,null)))),r.a.createElement(se.a,{item:!0,xs:12,md:7,className:t.contentColumn},r.a.createElement(se.a,{container:!0},r.a.createElement(_a,{articles:m,setArticles:d}))),Object(B.c)("md",a)&&r.a.createElement(se.a,{item:!0,xs:12,md:3,className:t.rightColumn},r.a.createElement(ue.a,{p:1},r.a.createElement(Q.a,null,r.a.createElement(Y.a,null,r.a.createElement(V.a,{primary:"\u0422\u043e\u043f 10 \u043f\u0438\u0442\u0430\u043d\u044c"})),r.a.createElement(ie.a,null),X.map((function(e,a){return r.a.createElement(Oe,{key:"top_artciles_".concat(a),thread:e})})))))))),Object(B.c)("sm",a)&&r.a.createElement(se.a,{item:!0,md:1,lg:2}),r.a.createElement(Aa,null)))}));var Ja=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null,r.a.createElement(f.a,{theme:m},r.a.createElement(A,null,r.a.createElement(o.a,null,r.a.createElement(Ha,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ja,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[153,1,2]]]);
//# sourceMappingURL=main.d0be29ea.chunk.js.map