(this.webpackJsonpstarscream_web=this.webpackJsonpstarscream_web||[]).push([[0],{128:function(e,t,a){e.exports=a.p+"static/media/readit_logo_black.a15732c9.png"},135:function(e,t,a){e.exports=a.p+"static/media/readit_logo_light.58a82056.png"},156:function(e,t,a){e.exports=a(176)},161:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),c=a.n(l),o=(a(161),a(16)),i=a(139),u=a(94),s=a(227),m=Object(i.a)({overrides:{MuiAppBar:{colorPrimary:{backgroundColor:u.a[900]}}},palette:{primary:{main:s.a[600],dark:s.a[900],light:s.a[100]},layout:{main:s.a[800],dark:s.a[900],light:s.a[50]},util:{separator:"rgba(0, 0, 0, 0.12)"},footer:{light:s.a[800],main:s.a[900],dark:u.a[900]}}}),d=a(96),E=Object(i.a)({palette:{primary:{main:s.a[100],dark:s.a[300],light:s.a[50]},secondary:{main:d.a[700],dark:d.a[900],light:d.a[500]},util:{separator:"rgba(0, 0, 0, 0.12)"},layout:{main:s.a[800],dark:s.a[900],light:s.a[50]},footer:{light:s.a[800],main:s.a[900],dark:u.a[900]}}}),f=a(261),p=a(8),h=r.a.createContext({user:null,token:null});function b(e){var t=r.a.useState(null),a=Object(p.a)(t,2),n=a[0],l=a[1],c=r.a.useState(null),o=Object(p.a)(c,2),i=o[0],u=o[1];return r.a.createElement(h.Provider,Object.assign({value:{user:n,setUser:l,token:i,setToken:u,isAdmin:function(){return n&&!!n.is_admin}}},e))}var g=function(){return r.a.useContext(h)},v=a(103),j=a.n(v),w=a(120),y=a(13),O=a(230),C=a(232),k=a(233),x=a(234),S=a(235),_=a(178),N=r.a.createContext({user:null,token:null});function A(e){var t=e.children,a=Object(y.a)(e,["children"]),n={title:"Are you sure?",text:"",size:"middle",type:"yesno",userFunc:function(){}},l=r.a.useState({settings:n,open:!1}),c=Object(p.a)(l,2),o=c[0],i=c[1];function u(){return(u=Object(w.a)(j.a.mark((function e(){var t,a,n,r,l,c,o,u,s,m=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=m.length>0&&void 0!==m[0]?m[0]:function(){},a=m.length>1?m[1]:void 0,n=a.title,r=void 0===n?"Are you sure?":n,l=a.text,c=void 0===l?"":l,o=a.size,u=void 0===o?"middle":o,s=a.type,i({settings:{text:c,size:u,type:void 0===s?"yesno":s,title:r,userFunc:t},open:!0});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){i({settings:n,open:!1})}function m(){s()}function d(){s(),o.settings.userFunc()}r.a.Fragment,_.a,_.a;switch(o.settings.type){case"continue":r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{onClick:d,color:"primary"},"Continue"));break;case"accept":r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{onClick:d,color:"primary"},"Accept"));break;case"confirmdecline":r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{onClick:d,color:"primary"},"Confirm"),r.a.createElement(_.a,{onClick:m,color:"primary",autoFocus:!0},"Decline"))}return r.a.createElement(N.Provider,Object.assign({value:function(){return u.apply(this,arguments)}},a),r.a.createElement(O.a,{open:o.open,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(C.a,{id:"alert-dialog-title"},o.settings.title),r.a.createElement(k.a,null,r.a.createElement(x.a,{id:"alert-dialog-description"},o.settings.text)),r.a.createElement(S.a,null,r.a.createElement(_.a,{onClick:d,color:"primary"},"Yes"),r.a.createElement(_.a,{onClick:m,color:"primary",autoFocus:!0},"No"))),t)}var W=function(){return r.a.useContext(N)},T=a(6),F=a(236),z=Object(F.a)((function(e){return{header:{colorDefault:e.palette.primary.dark},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},leftColumn:{backgroundColor:e.palette.layout.main,color:e.palette.common.white,borderTop:"1px solid ".concat(e.palette.util.separator)},topLine:{backgroundColor:e.palette.layout.main,color:e.palette.common.white},contentColumn:{backgroundColor:e.palette.common.white,minHeight:"calc(100vh - 64px)"},rightColumn:{backgroundColor:e.palette.layout.light},leftPanelButtonsText:{paddingLeft:e.spacing(1)},searchLineBase:{display:"flex",width:"100%"},createThreadButtonContainer:{display:"flex",width:"100%",height:"100%",alignItems:"stretch"},createThreadButtonBox:{display:"flex",width:"100%"},avatar:{marginLeft:e.spacing(2)},menuIcon:{color:e.palette.common.white},menuDrawer:{maxWidth:"80vw"},appBarMobileMargin:{marginTop:"56px"},appBarDesktopMargin:{marginTop:"64px"},logo:{height:"35px"},whiteColor:{color:"#fff !important"},InputRoot:{backgroundColor:"rgba(255, 255,255, 0.09) !important",borderTopRightRadius:"0 !important",borderBottomLeftRadius:e.shape.borderRadius}}})),I=a(54),B=a(274),q=a(81),D=a.n(q),L=function(e){e||console.error("request endPoint undefined");var t=function(e,t){return console.log("request.".concat(e,":"),t)};return{endPoint:function(){return e},post:function(a){var n="".concat(e,"/").concat(a);return t("post",n),D.a.post(n).set("accept","application/json").withCredentials()},put:function(a){var n="".concat(e,"/").concat(a);return t("put",n),D.a.put(n).set("accept","application/json").withCredentials()},delete:function(a){var n="".concat(e,"/").concat(a);return t("delete",n),D.a.delete(n).set("accept","application/json").withCredentials()},get:function(a){var n="".concat(e,"/").concat(a);return t("get",n),D.a.get(n).set("accept","application/json").withCredentials()}}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return L(e||"https://web.solomaha.com/api")},R=a(91),U=a.n(R),M=a(3),Z=a(29),G=Object(F.a)((function(e){return{paper:{maxWidth:"300px"}}})),H=a(238),J=a(239),Q=a(240),K=a(237),Y=a(180),$=a(55),V=a(244),X=a(243),ee=a(270),te=a(106),ae=a(241),ne=a(242);function re(e){var t=e.authData,a=e.setAuthData,n=e.onComplete,l=void 0===n?function(){}:n,c=(Object(y.a)(e,["authData","setAuthData","onComplete"]),r.a.useState(!1)),o=Object(p.a)(c,2),i=o[0],u=o[1],s=r.a.useState(null),m=Object(p.a)(s,2),d=m[0],E=m[1],f=r.a.useState({email:null,password:null,remember:!1}),h=Object(p.a)(f,2),b=h[0],v=h[1],j=g().setUser,w=G();return t||(t=b,a=v),r.a.createElement(te.a,{className:w.paper},r.a.createElement(K.a,null,d&&r.a.createElement(Y.a,null,r.a.createElement($.a,{color:"error",variant:"body2"},d)),r.a.createElement(Y.a,null,r.a.createElement(H.a,{placeholder:"Email",fullWidth:!0,required:!0,autoComplete:"email",onChange:function(e){e.persist(),a((function(t){return Object(T.a)(Object(T.a)({},t),{},{email:e.target.value||null})}))},value:t.email||""})),r.a.createElement(Y.a,null,r.a.createElement(H.a,{id:"standard-adornment-password",type:i?"text":"password",value:t.password||"",placeholder:"Password",onChange:function(e){e.persist(),a((function(t){return Object(T.a)(Object(T.a)({},t),{},{password:e.target.value||null})}))},autoComplete:"password",fullWidth:!0,required:!0,endAdornment:r.a.createElement(J.a,{position:"end"},r.a.createElement(Q.a,{"aria-label":"toggle password visibility",onClick:function(e){u((function(e){return!e}))}},i?r.a.createElement(ae.a,null):r.a.createElement(ne.a,null)))})),r.a.createElement(Y.a,null,r.a.createElement(X.a,{primary:"\u0417\u0430\u043f\u0430\u043c'\u044f\u0442\u0430\u0442\u0438 \u043c\u0435\u043d\u0435"}),r.a.createElement(V.a,null,r.a.createElement(ee.a,{checked:t.remember,onChange:function(e){e.persist(),a((function(t){return Object(T.a)(Object(T.a)({},t),{},{remember:e.target.checked||!1})}))}}))),r.a.createElement(Y.a,null,r.a.createElement(_.a,{fullWidth:!0,onClick:function(){t.email&&t.password?P().post("auth/login").send(t).then((function(e){j(e.body.data),l(e.body.data)})).catch((function(e){console.error(e);try{switch(e.status){case 403:E("\u0412\u0436\u0435 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0456\u043a\u043e\u0432\u0430\u043d\u043e");break;case 422:E("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430 \u043f\u043e\u0448\u0442\u0430 \u0447\u0438 \u043f\u0430\u0440\u043e\u043b\u044c");break;default:E("Unexpected error, see console for more information"),console.error(e)}}catch(t){console.error(t)}})):E("Credential cannot be empty")}},"\u0423\u0432\u0456\u0439\u0442\u0438"))))}var le=a(31),ce=a(245);function oe(e){e.authData,e.setAuthData;var t=e.onComplete,a=(Object(y.a)(e,["authData","setAuthData","onComplete"]),r.a.useState(!1)),n=Object(p.a)(a,2),l=n[0],c=n[1],o=r.a.useState({username:null,password:null,email:null}),i=Object(p.a)(o,2),u=i[0],s=i[1],m=g().setUser,d=Object(I.f)(),E=r.a.useState({username:null,email:null,password:null,repeatpassword:null}),f=Object(p.a)(E,2),h=f[0],b=f[1];function v(e){e.persist(),s((function(t){return Object(T.a)(Object(T.a)({},t),{},Object(le.a)({},e.target.name,e.target.value||null))}))}return r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement(X.a,{primary:r.a.createElement(H.a,{placeholder:"Username",fullWidth:!0,required:!0,name:"username",onChange:v,value:u.username||""}),secondary:h.username&&r.a.createElement(ce.a,{error:!0}," ",h.username," ")})),r.a.createElement(Y.a,null,r.a.createElement(X.a,{primary:r.a.createElement(H.a,{placeholder:"Email",fullWidth:!0,required:!0,name:"email",onChange:v,value:u.email||""}),secondary:h.email&&r.a.createElement(ce.a,{error:!0}," ",h.email," ")})),r.a.createElement(Y.a,null,r.a.createElement(X.a,{primary:r.a.createElement(H.a,{id:"standard-adornment-password",type:l?"text":"password",value:u.password||"",placeholder:"Password",onChange:function(e){e.persist(),s((function(t){return Object(T.a)(Object(T.a)({},t),{},{password:e.target.value||null})}))},required:!0,endAdornment:r.a.createElement(J.a,{position:"end"},r.a.createElement(Q.a,{"aria-label":"toggle password visibility",onClick:function(e){c((function(e){return!e}))}},l?r.a.createElement(ae.a,null):r.a.createElement(ne.a,null)))}),secondary:h.password&&r.a.createElement(ce.a,{error:!0}," ",h.password," ")})),r.a.createElement(Y.a,null,r.a.createElement(_.a,{fullWidth:!0,onClick:function(){P().post("auth/register").send(Object(T.a)(Object(T.a)({},u),{},{password_confirmation:u.password,name:u.username,username:void 0})).then((function(e){var a;m(e.body.data),a="/user/".concat(e.body.data.id),d.push(a),t()})).catch((function(e){console.error(e),function(e){switch(b({username:null,email:null,password:null,repeatpassword:null}),e.status){case 422:var t=e.response.body.errors,a=function(e){var a="Unresolved error",n=t[e][0];if(n){switch(n){case"validation.email":a="Incorrect email";break;case"validation.min.string":a="Password is too short";break;case"validation.unique":a="Username is already taken"}b((function(t){return Object(T.a)(Object(T.a)({},t),{},Object(le.a)({},e,a))}))}};for(var n in t)a(n)}}(e)}))}},"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f")))}var ie=a(266),ue=a(247),se=a(265),me=a(251),de=a(273),Ee=a(263),fe=a(264),pe=a(269),he=a(262),be=a(138),ge=a.n(be),ve=a(137),je=a.n(ve),we=a(136),ye=a.n(we),Oe=a(246);function Ce(e){var t=e.thread,a=(Object(y.a)(e,["thread"]),Object(I.f)()),n=r.a.createElement($.a,{variant:"body2"},t.title),l=r.a.createElement(r.a.Fragment,null,"".concat(t.reply_count," \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0435\u0439"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{button:!0,onClick:function(e){return n="/thread/".concat(t.id),void a.push(n);var n}},r.a.createElement(Oe.a,null,r.a.createElement(de.a,{src:"".concat("https://web.solomaha.com/avatars","/").concat(t.user.id,".jpg")})),r.a.createElement(X.a,{primary:n,secondary:l})),r.a.createElement(ue.a,null))}var ke=a(267),xe=a(252),Se=a(253),_e=Object(F.a)((function(e){return{listItemTextFix:{paddingRight:e.spacing(6),wordWrap:"break-word"},worldWrap:{wordWrap:"break-word"}}})),Ne=a(65),Ae=a.n(Ne),We=a(93),Te=a.n(We),Fe=a(66),ze=a.n(Fe),Ie=a(67),Be=a.n(Ie),qe=a(249),De=a(271);function Le(e){var t=e.message,a=void 0===t?"":t,n=W();return r.a.createElement(r.a.Fragment,null,function(e,t){for(var a=[],n=function(){var n=e.includes("http://")?e.indexOf("http://"):e.indexOf("https://"),l=e.slice(0,n),c=e.indexOf(" ",n);-1===c&&(c=e.length-1);var o=e.slice(n,c),i=o.slice(0,40);o.length>40&&(i+="..."),e=e.slice(c,e.length-1),l&&a.push(l),o&&a.push(r.a.createElement(De.a,{title:o,"aria-label":"link",key:"link-".concat(o)},r.a.createElement(qe.a,{onClick:function(e){return t((function(){window.location.href=o}),{text:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f ".concat(i," \u0446\u0435 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044c\u043a\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u0456 \u043d\u0435 \u043d\u0430\u043b\u0435\u0436\u0438\u0442\u044c \u0434\u043e \u043d\u0430\u0448\u043e\u0433\u043e \u0434\u043e\u0434\u0430\u0442\u043a\u0443. \u0412\u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u0435 \u043f\u043e \u0446\u044c\u043e\u043c\u0443 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044e \u043d\u0430 \u0441\u0432\u0456\u0439 \u0441\u0442\u0440\u0430\u0445 \u0456 \u0440\u0438\u0437\u0438\u043a."),title:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u043f\u0435\u0440\u0435\u0445\u0456\u0434 \u043f\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044c\u043a\u043e\u043c\u0443 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044e",type:"continue"})}},i)))};e.includes("http://")||e.includes("https://");)n();return e&&a.push(e),a}(a,n))}function Pe(e){var t=e.author,a=e.thread,n=e.onEdited,l=void 0===n?function(){}:n,c=e.preview,o=void 0!==c&&c,i=(Object(y.a)(e,["author","thread","onEdited","preview"]),Object(I.f)()),u=g(),s=u.user,m=u.isAdmin,d=r.a.useState(!1),E=Object(p.a)(d,2),f=E[0],h=E[1],b=r.a.useState({title:a.title,body:a.body}),v=Object(p.a)(b,2),j=v[0],w=v[1],O=W(),C=_e(),k=r.a.useState({title:null,body:null}),x=Object(p.a)(k,2),S=x[0],_=x[1];function N(e){i.push(e)}function A(e){w(Object(T.a)(Object(T.a)({},j),{},Object(le.a)({},e.target.name,e.target.value)))}function F(){P().delete("questions/".concat(a.id)).then((function(e){N("/threads")})).catch((function(e){switch(e.status){case 401:N("?login=true");break;default:console.error(e)}}))}return r.a.useEffect((function(){w({title:a.title,body:a.body})}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{id:"author",button:!0,onClick:function(e){return N("/user/".concat(t.id))}},r.a.createElement(Oe.a,null,r.a.createElement(de.a,{src:"".concat("https://web.solomaha.com/avatars","/").concat(t.id,".jpg")})),r.a.createElement(X.a,{primary:t.name,secondary:"\u043e\u043f\u0443\u0431\u043b\u0456\u043a\u043e\u0432\u0430\u043d\u043e ".concat(a.created_at&&new Date(a.created_at).toLocaleString()||"\u0442\u0456\u043b\u044c\u043a\u0438 \u0449\u043e"),className:Object(M.a)((s&&s.id===t.id||m())&&C.listItemTextFix)}),(s&&s.id===t.id||m())&&!o&&r.a.createElement(V.a,null,!f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{onClick:function(e){return h(!0)}},r.a.createElement(Ae.a,null)),r.a.createElement(Q.a,{onClick:function(){O(F,{title:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f: ".concat(a.title),text:"\u0426\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0432\u0456\u0434\u043c\u0456\u043d\u0435\u043d\u0430"})}},r.a.createElement(Te.a,null))),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{onClick:function(){if(!function(){var e=!1;return j.body?_((function(e){return Object(T.a)(Object(T.a)({},e),{},{body:null})})):(_((function(e){return Object(T.a)(Object(T.a)({},e),{},{body:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),j.title?_((function(e){return Object(T.a)(Object(T.a)({},e),{},{title:null})})):(_((function(e){return Object(T.a)(Object(T.a)({},e),{},{title:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),!e}())return null;P().put("questions/".concat(a.id)).send(Object(T.a)(Object(T.a)({},j),{},{body:j.body.replace(/(\n\n\n)+/g,"\n"),title:j.title.replace(/\n/g,"")})).then((function(e){console.log(e),h(!1),l(j),_({title:null,body:null})})).catch((function(e){switch(e.status){case 401:N("?login=true");break;default:_({title:"Error",body:"Error"})}}))}},r.a.createElement(ze.a,null)),r.a.createElement(Q.a,{onClick:function(e){h(!1),w({title:a.title,body:a.body})}},r.a.createElement(Be.a,null))))),r.a.createElement(Y.a,{id:"question"},!f&&r.a.createElement($.a,{variant:"h5"},a.title),f&&r.a.createElement(ie.a,{helperText:S.title,fullWidth:!0,label:"\u041f\u0438\u0442\u0430\u043d\u043d\u044f",required:!0,value:j.title,name:"title",variant:"outlined",onChange:A,error:S.title})),r.a.createElement(Y.a,null,!f&&r.a.createElement($.a,{variant:"body1"},a.body&&r.a.createElement($.a,{style:{whiteSpace:"pre-wrap"}},r.a.createElement(Le,{message:a.body,style:{whiteSpace:"pre-wrap"}}))),f&&r.a.createElement(ie.a,{fullWidth:!0,label:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u043e",helperText:S.body,required:!0,value:j.body,name:"body",variant:"outlined",size:"small",onChange:A,multiline:!0,rows:6,error:S.body})))}function Re(e){var t=e.children,a=e.value,n=e.index,l=Object(y.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"thread-editor-tabpanel--".concat(n),"aria-labelledby":"thread-editor-".concat(n)},l),a===n&&t)}function Ue(e){Object.assign({},e);var t=r.a.useState(0),a=Object(p.a)(t,2),n=a[0],l=a[1],c=r.a.useState({title:"",body:""}),o=Object(p.a)(c,2),i=o[0],u=o[1],s=r.a.useState([]),m=Object(p.a)(s,2),d=m[0],E=m[1],f=r.a.useState(null),h=Object(p.a)(f,2),b=h[0],v=h[1],j=r.a.useState({title:null,body:null,category:null}),w=Object(p.a)(j,2),y=w[0],O=w[1],C=Object(I.f)(),k=g().user;function x(e){C.push(e)}function S(e){u(Object(T.a)(Object(T.a)({},i),{},Object(le.a)({},e.target.name,e.target.value)))}return r.a.useEffect((function(){P().get("categories").then((function(e){E(e.body.data)})).catch((function(e){console.error(e)}))}),[]),r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(Z.a,null,r.a.createElement("title",null,"Readit | New thread")),r.a.createElement(ke.a,{value:n,onChange:function(e,t){l(t)},"aria-label":"simple tabs example",variant:"fullWidth"},r.a.createElement(xe.a,{label:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f"}),r.a.createElement(xe.a,{label:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434"})),r.a.createElement(Re,{value:n,index:0},r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement($.a,{variant:"h6"},"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f")),r.a.createElement(Y.a,null,r.a.createElement(ie.a,{error:!!y.title,helperText:y.title,label:"\u041f\u0438\u0442\u0430\u043d\u043d\u044f",value:i.title||"",required:!0,fullWidth:!0,variant:"outlined",name:"title",onChange:S})),r.a.createElement(Y.a,null,r.a.createElement(ie.a,{error:!!y.body,helperText:y.body,label:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u043e",value:i.body||"",required:!0,fullWidth:!0,variant:"outlined",multiline:!0,rows:10,name:"body",onChange:function(e){return S(e)}})),r.a.createElement(Y.a,null,r.a.createElement(ie.a,{error:!!y.category,helperText:y.category,select:!0,name:"category_id",label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f",value:b||"",onChange:function(e){v(e.target.value)},fullWidth:!0,variant:"outlined"},d.map((function(e){return r.a.createElement(Se.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(Y.a,null,r.a.createElement(_.a,{fullWidth:!0,variant:"outlined",onClick:function(){if(!function(){var e=!1;return i.title?O((function(e){return Object(T.a)(Object(T.a)({},e),{},{title:null})})):(O((function(e){return Object(T.a)(Object(T.a)({},e),{},{title:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),i.body?O((function(e){return Object(T.a)(Object(T.a)({},e),{},{body:null})})):(O((function(e){return Object(T.a)(Object(T.a)({},e),{},{body:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),b?O((function(e){return Object(T.a)(Object(T.a)({},e),{},{category:null})})):(O((function(e){return Object(T.a)(Object(T.a)({},e),{},{category:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"})})),e=!0),!e}())return null;try{P().post("questions").send(Object(T.a)(Object(T.a)({},i),{},{category_id:b,body:i.body.replace(/(\n\n\n)+/g,"\n"),title:i.title.replace(/\n/g,"")})).then((function(e){O({title:null,body:null,category:null}),x("/thread/".concat(e.body.data.id))})).catch((function(e){switch(e.status){case 401:x("?login=true")}}))}catch(e){console.error(e)}}},"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438")))),r.a.createElement(Re,{value:n,index:1},r.a.createElement(Pe,{preview:!0,thread:{title:i.title||"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u0449\u043e\u0431 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438",body:i.body||"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e \u0449\u043e\u0431 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438"},author:k})))}var Me=a(95),Ze=Object(F.a)((function(e){return{listItemTextFix:{paddingRight:e.spacing(5)},dangerZone:{backgroundColor:Me.a[700],color:e.palette.common.white,borderColor:e.palette.common.white},noPaddingSides:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0)}}})),Ge=Object(F.a)((function(e){return{root:{width:"100%",height:"100%",position:"relative",display:"flex",overflow:"hidden",justifyContent:"center",alignContent:"center","&:hover div":{display:"block",backgroundColor:"rgba(0.5,0.5,0.5,0.4)",zIndex:"1000"}},input:{zIndex:"1001",left:"0",top:"-100px",width:"100%",height:"calc(100% + 100px)",position:"absolute",color:"transparent",backgroundColor:"transparent","&:hover":{backgroundColor:"rgba(0.2,0.2,0.2,0.2)"},"&:active":{backgroundColor:"rgba(0.2,0.2,0.2,0.3)"}},message:{marginTop:"calc(50% - 26px)",borderRadius:"5px",textAlign:"center",height:"20px",width:"60%",padding:e.spacing(2)},messageUnloaded:{display:"block",backgroundColor:"rgba(0.5,0.5,0.5,0.4)",zIndex:"1000"},img:{color:"white",width:"100%",height:"100%",position:"absolute",left:"0px",top:"0px"},imgIcon:{color:"white",width:"80%",height:"80%",position:"absolute",left:"0px",top:"0px",padding:"10%"},displayNone:{display:"none"},displayBlock:{display:"block"}}})),He=a(125),Je=a.n(He);var Qe=Object(B.a)()((function(e){var t=e.onChange,a=void 0===t?function(){}:t,n=e.onError,l=void 0===n?function(){}:n,c=e.src,o=e.width,i=e.date,u=e.children,s=e.disabled,m=void 0!==s&&s,d=(Object(y.a)(e,["onChange","onError","src","width","date","children","disabled"]),Ge());return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:d.root},r.a.createElement("img",{src:c,className:Object(M.a)(d.img,!c&&d.displayNone),alt:i,onError:l}),r.a.createElement(Je.a,{className:Object(M.a)(d.imgIcon,c&&d.displayNone)}),!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"file",className:Object(M.a)(d.input),onChange:function(e){return a(e.target.files)},accept:".png,.jpg,.jpeg",multiple:!1}),u&&r.a.createElement("div",{className:Object(M.a)(d.message,Object(B.c)("md",o)&&d.displayNone,!c&&d.messageUnloaded)},u))))}));function Ke(e){var t=e.inputUser,a=void 0===t?{}:t,n=function(){var e=r.a.useState(null),t=Object(p.a)(e,2),a=t[0],n=t[1],l=r.a.useState(0),c=Object(p.a)(l,2),o=c[0],i=c[1];return r.a.useEffect((function(){function e(){i(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),[a,r.a.useCallback((function(e){null!==e&&n(e.getBoundingClientRect())}),[o])]}(),l=Object(p.a)(n,2),c=l[0],o=l[1],i=r.a.useState({image:null,date:(new Date).toString()}),u=Object(p.a)(i,2),s=u[0],m=u[1],d=Object(I.f)(),E=Object(I.h)().id,f=g(),h=f.user,b=f.isAdmin;function v(){m({image:"".concat("https://web.solomaha.com/avatars","/").concat(a.id,".jpg"),date:(new Date).toString()})}return r.a.useEffect((function(){v()}),[E]),r.a.createElement(de.a,{ref:o,style:{width:"100%",height:c&&c.width}},r.a.createElement(Qe,{onChange:function(e){P().post("users/".concat(a.id,"/avatar")).attach("avatar",e[0]).then((function(e){v()})).catch((function(e){switch(e.status){case 401:t="?login=true",d.push(t);break;default:console.error(e)}var t}))},onError:function(e){return m({image:null,date:(new Date).toString()})},src:s.image,date:s.date,disabled:!(h&&h.id===a.id||b())},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0438 \u0430\u0432\u0430\u0442\u0430\u0440"))}function Ye(e){var t=e.origUserdata,a=e.init,n=(Object(y.a)(e,["origUserdata","init"]),r.a.useState(!1)),l=Object(p.a)(n,2),c=l[0],o=l[1],i=Object(I.h)().id,u=r.a.useState(Object(T.a)(Object(T.a)({},t),{},{id:void 0})),s=Object(p.a)(u,2),m=s[0],d=s[1],E=g(),f=E.user,h=E.setUser,b=E.isAdmin,v=r.a.useState({name:null,email:null}),j=Object(p.a)(v,2),w=j[0],O=j[1],C=Ze(),k=Object(I.f)();function x(e){d(Object(T.a)(Object(T.a)({},m),{},Object(le.a)({},e.target.name,e.target.value)))}return r.a.useEffect((function(){d(Object(T.a)(Object(T.a)({},t),{},{id:void 0}))}),[t]),r.a.createElement(Y.a,null,r.a.createElement(me.a,{container:!0},r.a.createElement(me.a,{item:!0,xs:12,md:6},r.a.createElement(se.a,{p:1},r.a.createElement(Ke,{inputUser:t}))),r.a.createElement(me.a,{item:!0,xs:12,md:6},r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement(X.a,{primary:"".concat(t.is_admin?"Admin |":""," \u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"),secondary:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e ".concat(new Date(m.updated_at).toLocaleString()||"recently"),className:Object(M.a)(c&&C.listItemTextFix)}),(f&&f.id===+i||b())&&r.a.createElement(V.a,null,!c&&r.a.createElement(Q.a,{onClick:function(){o(!0)}},r.a.createElement(Ae.a,{fontSize:"small"})),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{onClick:function(){if(!function(){var e=!1;return m.name?O((function(e){return Object(T.a)(Object(T.a)({},e),{},{name:null})})):(O((function(e){return Object(T.a)(Object(T.a)({},e),{},{name:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),m.email?O((function(e){return Object(T.a)(Object(T.a)({},e),{},{email:null})})):(O((function(e){return Object(T.a)(Object(T.a)({},e),{},{email:"\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})})),e=!0),!e}())return null;P().put("users/".concat(i)).send(m).then((function(e){f.id===+i&&h(e.body.data),o(!1),a()})).catch((function(e){switch(e.status){case 401:t="?login=true",k.push(t);break;default:console.error(e)}var t}))}},r.a.createElement(ze.a,{fontSize:"small"})),r.a.createElement(Q.a,{onClick:function(){d(t),o(!1)}},r.a.createElement(Be.a,{fontSize:"small"}))))),r.a.createElement(Y.a,null,r.a.createElement(ie.a,{error:!!w.name,helperText:w.name,disabled:!c,fullWidth:!0,name:"name",label:"\u0406\u043c'\u044f",value:m.name,onChange:x})),r.a.createElement(Y.a,null,r.a.createElement(ie.a,{error:!!w.email,helperText:w.email,disabled:!c,name:"email",fullWidth:!0,label:"Email",value:m.email,onChange:x})))),r.a.createElement(me.a,{xs:12},r.a.createElement(ie.a,{variant:"outlined",multiline:!0,rows:c?10:5,label:"\u041f\u0440\u043e \u043c\u0435\u043d\u0435",fullWidth:!0,name:"about_me",onChange:x,value:m.about_me,disabled:!c}))))}var $e=a(250);function Ve(e){var t=e.handleClick,a=e.shown,n=e.name;return r.a.createElement(J.a,{position:"end"},r.a.createElement(Q.a,{"aria-label":"toggle password visibility",onClick:function(e){return t(e,n)}},a?r.a.createElement(ae.a,null):r.a.createElement(ne.a,null)))}function Xe(e){var t=e.inputUser,a=r.a.useState({oldpassword:!1,newpassword:!1,confirmnewpassword:!1}),n=Object(p.a)(a,2),l=n[0],c=n[1],o=r.a.useState({password:null,newpassword:null,confirmpassword:null}),i=Object(p.a)(o,2),u=i[0],s=i[1],m=r.a.useState(null),d=Object(p.a)(m,2),E=d[0],f=d[1],h=Object(I.f)();function b(e,t){c(Object(T.a)(Object(T.a)({},l),{},Object(le.a)({},t,!l[t])))}function g(e){s(Object(T.a)(Object(T.a)({},u),{},Object(le.a)({},e.target.name,e.target.value)))}return r.a.createElement(Y.a,null,r.a.createElement($e.a,{fullWidth:!0},r.a.createElement(ce.a,null,"Change password"),r.a.createElement(me.a,{container:!0},r.a.createElement(me.a,{item:!0,xs:12,md:6},r.a.createElement(se.a,{p:1},r.a.createElement(H.a,{required:!0,name:"password",onChange:g,type:l.oldpassword?"text":"password",fullWidth:!0,placeholder:"\u0421\u0442\u0430\u0440\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"password",endAdornment:r.a.createElement(Ve,{handleClick:b,shown:l.oldpassword,name:"oldpassword"})}))),r.a.createElement(me.a,{item:!0,xs:12,md:6},r.a.createElement(se.a,{p:1},r.a.createElement(H.a,{required:!0,type:l.newpassword?"text":"password",fullWidth:!0,placeholder:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"new-password",name:"newpassword",onChange:g,endAdornment:r.a.createElement(Ve,{handleClick:b,shown:l.newpassword,name:"newpassword"})}),r.a.createElement(H.a,{name:"confirmpassword",onChange:g,required:!0,type:l.confirmnewpassword?"text":"password",fullWidth:!0,placeholder:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"confirm-new-password",endAdornment:r.a.createElement(Ve,{handleClick:b,shown:l.confirmnewpassword,name:"confirmnewpassword"})}))),r.a.createElement(ce.a,{error:!0},E),r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(_.a,{fullWidth:!0,variant:"outlined",onClick:function(){if(function(){var e=!1;return u.newpassword!==u.confirmpassword&&(f("\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c"),e=!0),u.newpassword&&u.confirmpassword&&u.password||(f("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),e=!0),e}())return null;P().put("users/".concat(t.id)).send({old_password:u.password,password:u.newpassword}).then((function(e){console.log("Changed password for ".concat(t.name," | ").concat(t.email))})).catch((function(e){switch(e.status){case 401:t="?login=true",h.push(t);break;case 422:f("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),s(Object(T.a)(Object(T.a)({},u),{},{password:null}));default:console.error(e)}var t}))}},"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")))))}function et(e){var t=e.viewed_user,a=e.updateInfo,n=(Object(y.a)(e,["viewed_user","updateInfo"]),Ze()),l=g(),c=l.user,o=l.setUser,i=l.setToken,u=l.isAdmin,s=Object(I.h)().id,m=Object(I.f)(),d=W();function E(e){m.push(e)}function f(){c&&P().delete("users/".concat(s)).then((function(e){c.id==s?(o(null),i(null),E("/threads")):E("/users")})).catch((function(e){switch(e.status){case 401:E("?login=true");break;default:console.error(e)}}))}function p(){P().put("users/".concat(s)).send({is_admin:!0}).then((function(e){a()})).catch((function(e){switch(e.status){case 401:E("?login=true");break;default:console.error(e)}}))}function h(){P().put("users/".concat(s)).send({is_admin:!1}).then((function(e){a()})).catch((function(e){switch(e.status){case 401:E("?login=true");break;default:console.error(e)}}))}return r.a.createElement(Y.a,{className:n.dangerZone},r.a.createElement($e.a,{fullWidth:!0},r.a.createElement(ce.a,{className:n.dangerZone},"\u041d\u0435\u0431\u0435\u0437\u043f\u0435\u0447\u043d\u0430 \u0437\u043e\u043d\u0430"),r.a.createElement(K.a,null,r.a.createElement(Y.a,{className:n.noPaddingSides},r.a.createElement(_.a,{fullWidth:!0,variant:"outlined",className:n.dangerZone,onClick:function(){d(f,{title:" \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0430\u043a\u0430\u0443\u043d\u0442: ".concat(t.name),text:"\u0426\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u044f \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0432\u0456\u0434\u043c\u0456\u043d\u0435\u043d\u0430"})}},"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0430\u043a\u0430\u0443\u043d\u0442")),u()&&t.id!==c.id&&r.a.createElement(r.a.Fragment,null,!t.is_admin&&r.a.createElement(Y.a,{className:n.noPaddingSides},r.a.createElement(_.a,{fullWidth:!0,variant:"outlined",className:n.dangerZone,onClick:function(){d(p,{title:"\u0417\u0440\u043e\u0431\u0438\u0442\u0438 ".concat(t.name," | ").concat(t.email," \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c?"),text:"\u0426\u0435 \u043e\u043f\u0430\u0441\u043d\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u044f, \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u043c\u043e\u0436\u0435 \u0432\u0438\u0434\u0430\u043b\u044f\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f, \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0456, \u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432. \u0422\u0430\u043a\u043e\u0436 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u043c\u043e\u0436\u0435 \u043f\u043e\u0432\u0438\u0441\u0438\u0442\u0438 \u0456\u043d\u0448\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0434\u043e \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u0447\u0438 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0439\u043e\u0433\u043e"})}},"\u0417\u0440\u043e\u0431\u0438\u0442\u0438 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c")),t.is_admin&&r.a.createElement(Y.a,{className:n.noPaddingSides},r.a.createElement(_.a,{fullWidth:!0,variant:"outlined",className:n.dangerZone,onClick:function(){d(h,{title:"\u0417\u043d\u044f\u0442\u0438 \u0437 \u0440\u043e\u043b\u0456 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 ".concat(t.name," | ").concat(t.email,"?"),text:"\u041f\u0456\u0441\u043b\u044f \u0437\u043d\u044f\u0442\u0442\u044f \u0437 \u0440\u043e\u043b\u0456 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u043d\u0435 \u0437\u043c\u043e\u0436\u0435 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0456 \u0432\u0438\u0434\u0430\u043b\u044f\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f, \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0456, \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432 \u0456 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u0438 \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430\u043c\u0438."})}},"\u0417\u0430\u0431\u0440\u0430\u0442\u0438 \u0430\u0434\u043c\u0456\u043d\u0456\u043c\u0442\u0440\u0430\u0442\u043e\u0440\u0430"))))))}function tt(){var e=g(),t=e.user,a=e.isAdmin,n=Object(I.h)().id,l=r.a.useState({name:"",email:"",interests:"",about_me:""}),c=Object(p.a)(l,2),o=c[0],i=c[1],u=r.a.useState(!0),s=Object(p.a)(u,2),m=s[0],d=s[1],E=!1;function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&d(!0),P().get("users/".concat(n)).then((function(t){var a=Object(T.a)(Object(T.a)({},t.body.data),{},{interests:"lol"});i(a),e&&d(!1)})).catch((function(t){console.error(t),e&&d(!1)}))}return r.a.useEffect((function(){E=!0,f(!0)}),[]),r.a.useEffect((function(){f(!0)}),[n,t]),E||m?null:r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(Z.a,null,r.a.createElement("title",null,"Readit | ",o.name)),r.a.createElement(K.a,null,r.a.createElement(Ye,{origUserdata:o,init:f}),t&&t.id===+n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,null),r.a.createElement(Xe,{inputUser:o})),(t&&t.id===+n||a())&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,null),r.a.createElement(et,{viewed_user:o,updateInfo:f}),r.a.createElement(ue.a,null))))}var at=a(254),nt=a(255),rt=a(256),lt=a(257),ct=a(258),ot=a(272);function it(e){var t=e.user,a=(Object(y.a)(e,["user"]),Object(I.f)()),n=r.a.useState(!0),l=Object(p.a)(n,2);l[0],l[1];function c(e){a.push(e)}return r.a.createElement(me.a,{item:!0,xs:12,md:6},r.a.createElement(Z.a,null,r.a.createElement("title",null,"Readit | Users")),r.a.createElement(se.a,{p:1},r.a.createElement(at.a,null,r.a.createElement(nt.a,{onClick:function(e){return c("/user/".concat(t.id))}},r.a.createElement(rt.a,{component:"img",image:"".concat("https://web.solomaha.com/avatars","/").concat(t.id,".jpg"),alt:"Avatar of user ".concat(t.name),height:"140",title:t.name,onError:function(e){return e.target.src="https://ssl.gstatic.com/images/branding/product/1x/avatar_circle_grey_512dp.png"}}),r.a.createElement(lt.a,null,r.a.createElement($.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.name),r.a.createElement($.a,{variant:"body2",color:"textSecondary",component:"p"},"".concat(t.is_admin?"Admin | ":"").concat(t.email)))),r.a.createElement(ct.a,null,r.a.createElement(_.a,{size:"small",color:"primary",onClick:function(e){return c("/user/".concat(t.id))}},"\u041f\u0440\u043e\u0444\u0456\u043b\u044c")))))}function ut(){var e=r.a.useState([]),t=Object(p.a)(e,2),a=t[0],n=t[1],l=r.a.useState(!0),c=Object(p.a)(l,2),o=c[0],i=c[1];return r.a.useEffect((function(){i(!0),P().get("users").then((function(e){n(e.body.data),i(!1)})).catch(console.error)}),[]),o?null:r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(se.a,{p:1},r.a.createElement(me.a,{container:!0},r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(se.a,{p:1},r.a.createElement(ot.a,{"aria-label":"breadcrumb"},r.a.createElement($.a,{color:"textPrimary"},"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456")))),a.map((function(e){return r.a.createElement(it,{key:"user-card-".concat(e.id),user:e})})))))}var st=Object(F.a)((function(e){return{threadsList:{paddingRight:e.spacing(6)},pagination:{display:"inline-flex"},paginationContainer:{display:"flex",justifyContent:"center"},ratingBadge:{color:e.palette.grey[500]}}})),mt=a(259),dt=a(268),Et=a(260),ft=a(276),pt=a(127),ht=a.n(pt),bt=a(126),gt=a.n(bt);function vt(e){var t=e.thread,a=(Object(y.a)(e,["thread"]),st()),n=Object(I.f)();var l=r.a.createElement($.a,null,t.title),c=r.a.createElement(V.a,null,r.a.createElement(mt.a,{badgeContent:t.reply_count,showZero:!0,color:"primary"},r.a.createElement(gt.a,{className:a.ratingBadge})),r.a.createElement(mt.a,{badgeContent:t.views_count,showZero:!0,color:"primary"},r.a.createElement(ht.a,{className:a.ratingBadge})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{button:!0,onClick:function(e){return a="/thread/".concat(t.id),void n.push(a);var a}},r.a.createElement(Oe.a,null,r.a.createElement(de.a,{src:"".concat("https://web.solomaha.com/avatars","/").concat(t.user.id,".jpg")})),r.a.createElement(X.a,{primary:l,secondary:"".concat(t.user.name," | ").concat(new Date(t.created_at).toLocaleString()),className:a.threadsList}),c),r.a.createElement(ue.a,null))}function jt(e){var t=e.articles,a=e.setArticles,n=(Object(y.a)(e,["articles","setArticles"]),st()),l=Object(I.f)(),c=r.a.useState("created_at"),o=Object(p.a)(c,2),i=o[0],u=o[1],s=r.a.useState(1),m=Object(p.a)(s,2),d=m[0],E=m[1],f=r.a.useState(1),h=Object(p.a)(f,2),b=h[0],v=h[1],j=Object(I.g)(),w=Object(I.h)().mode,O=U.a.parse(j.search,{ignoreQueryPrefix:!0}).search,C=g().user,k=r.a.useRef();function x(e){O?P().get("questions").query({search:O,page:e,sort:i}).then((function(e){a(e.body.data)})).catch((function(e){console.error(e)})):P().get("questions".concat(w&&C?"/".concat(w):"")).query({page:e,sort:i}).then((function(e){a(e.body.data),E(e.body.meta.last_page)})).catch((function(e){console.error(e)}))}return r.a.useEffect((function(){return x(1),clearInterval(k.current),k.current=setInterval((function(){O?console.log("Sync [threads]: skipping synchronization (".concat((new Date).toLocaleString(),")")):(console.log("Sync [threads]: synchronizing (".concat((new Date).toLocaleString(),")")),x())}),3e4),function(){clearInterval(k.current)}}),[w,i]),r.a.useEffect((function(){x(1)}),[O,i]),r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(Z.a,null,r.a.createElement("title",null,"Readit | Threads")),r.a.createElement(se.a,{p:1},r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement(ot.a,{"aria-label":"breadcrumb"},!O&&r.a.createElement($.a,{color:"textPrimary"},"\u041f\u0438\u0442\u0430\u043d\u043d\u044f"),O&&r.a.createElement(qe.a,{onClick:function(e){return t="/threads",void l.push(t);var t},color:"textPrimary"},"\u041f\u0438\u0442\u0430\u043d\u043d\u044f"),O&&r.a.createElement($.a,{color:"textPrimary"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u0434\u043b\u044f: ",O))),r.a.createElement(Y.a,null,r.a.createElement(ft.a,{value:i,size:"small",exclusive:!0,onChange:function(e,t){u(t)}},r.a.createElement(Et.a,{value:"created_at"},"\u041d\u0430\u0439\u043d\u043e\u0432\u0456\u0448\u0456"),r.a.createElement(Et.a,{value:"reply_count"},"\u041f\u043e \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044f\u043c"),r.a.createElement(Et.a,{value:"views_count"},"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456"))),t.map((function(e,t){return r.a.createElement(vt,{thread:e,key:"artciles_".concat(t)})}))),r.a.createElement("div",{className:n.paginationContainer},r.a.createElement(dt.a,{count:d,page:b,onChange:function(e,t){v(t),x(t)},className:n.pagination}))))}var wt=a(140),yt=Object(F.a)((function(e){return{width100:{width:"100%"}}}));function Ot(e){var t=e.answer,a=e.onEdited,n=void 0===a?function(){}:a,l=(Object(y.a)(e,["answer","onEdited"]),g()),c=l.user,o=l.isAdmin,i=r.a.useState(!1),u=Object(p.a)(i,2),s=u[0],m=u[1],d=r.a.useState(t.text),E=Object(p.a)(d,2),f=E[0],h=E[1],b=Object(I.f)(),v=_e(),j=(Object(I.h)().id,r.a.useRef()),w=r.a.useState(null),O=Object(p.a)(w,2),C=O[0],k=O[1];function x(e){b.push(e)}r.a.useEffect((function(){return j.current=!0,function(){return j.current=!1}}),[]),r.a.useEffect((function(){h(t.text)}),[t]);var S=r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{variant:"h6"},t.user.name),!s&&t.text&&r.a.createElement($.a,{style:{whiteSpace:"pre-wrap"}},r.a.createElement(Le,{message:t.text})),s&&r.a.createElement(ie.a,{helperText:C,error:!!C,fullWidth:!0,label:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c",variant:"outlined",size:"small",multiline:!0,rows:4,onChange:function(e){h(e.target.value)},value:f,required:!0}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{alignItems:"flex-start"},r.a.createElement(Oe.a,null,r.a.createElement(de.a,{onClick:function(e){return x("/user/".concat(t.user.id))},src:"".concat("https://web.solomaha.com/avatars","/").concat(t.user.id,".jpg")})),r.a.createElement(X.a,{primary:S,secondary:"\u043e\u043f\u0443\u0431\u043b\u0456\u043a\u043e\u0432\u0430\u043d\u043e ".concat(new Date(t.created_at).toLocaleString()),className:Object(M.a)(v.listItemTextFix,v.overflowHidden)}),(c&&c.id===t.user.id||o())&&r.a.createElement(V.a,null,!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{onClick:function(e){return m(!0)}},r.a.createElement(Ae.a,{fontSize:"small"})),r.a.createElement(Q.a,{onClick:function(){P().delete("replies/".concat(t.id)).then((function(e){n()})).catch((function(e){switch(e.status){case 401:x("?login=true");break;default:console.error(e)}}))}},r.a.createElement(Te.a,{fontSize:"small"}))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{onClick:function(){if(""===f&&(k("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),1))return null;P().put("replies/".concat(t.id)).send({text:f}).then((function(e){m(!1),n(f),k(null)})).catch((function(e){switch(e.status){case 401:x("?login=true");break;default:k("Error"),console.error(e)}}))}},r.a.createElement(ze.a,{fontSize:"small"})),r.a.createElement(Q.a,{onClick:function(e){m(!1),h(t.text)}},r.a.createElement(Be.a,{fontSize:"small"}))))),r.a.createElement(ue.a,null))}var Ct=Object(B.a)()((function(e){var t=e.width,a=(Object(y.a)(e,["width"]),r.a.useState({})),n=Object(p.a)(a,2),l=n[0],c=n[1],o=r.a.useState({}),i=Object(p.a)(o,2),u=i[0],s=i[1],m=r.a.useState([]),d=Object(p.a)(m,2),E=d[0],f=d[1],h=r.a.useState(""),b=Object(p.a)(h,2),v=b[0],j=b[1],w=r.a.useState(null),O=Object(p.a)(w,2),C=O[0],k=O[1],x=Object(I.h)().id,S=g().user,N=yt(),A=Object(I.f)(),W=r.a.useRef();function F(e){A.push(e)}function z(){P().get("questions/".concat(x)).then((function(e){c(Object(T.a)({},e.body.data.user)),s(Object(T.a)(Object(T.a)({},e.body.data),{},{replies:void 0,user:void 0,user_id:void 0})),f(Object(wt.a)(e.body.data.replies))})).catch((function(e){console.error(e)}))}function q(){P().get("questions/".concat(x,"/replies")).then((function(e){f(e.body.data)})).catch((function(e){console.error(e)}))}return r.a.useEffect((function(){return clearInterval(W.current),z(),W.current=setInterval((function(){console.log("Sync [thread]: synchronizing (".concat((new Date).toLocaleString(),")")),z()}),3e4),function(){clearInterval(W.current)}}),[x]),r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(Z.a,null,r.a.createElement("title",null,"Readit | ",u.title)),r.a.createElement(se.a,{p:1},r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement(ot.a,{"aria-label":"breadcrumb"},r.a.createElement(qe.a,{color:"inherit",onClick:function(){return F("/threads")}},"\u041f\u0438\u0442\u0430\u043d\u043d\u044f"),r.a.createElement($.a,{color:"textPrimary"},u.title))),r.a.createElement(Pe,{author:l,thread:u,onEdited:function(){P().get("questions/".concat(x)).then((function(e){s(Object(T.a)(Object(T.a)({},e.body.data),{},{replies:void 0,user:void 0,user_id:void 0}))})).catch((function(e){console.error(e)}))}}),r.a.createElement(ue.a,null),r.a.createElement(Y.a,{id:"answers"},r.a.createElement(K.a,{className:N.width100},E.map((function(e,t){return r.a.createElement(Ot,{key:"answer_".concat(t,"_").concat(u.id,"_").concat(l.id),answer:e,onEdited:q})})))),S&&r.a.createElement(Y.a,{id:"compose"},r.a.createElement(me.a,{container:!0},r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(ie.a,{error:!!C,helperText:C,value:v,multiline:!0,rows:8,variant:"outlined",label:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c",fullWidth:!0,onChange:function(e){j(e.target.value)}})),Object(B.c)("sm",t)&&r.a.createElement(me.a,{item:!0,md:9}),r.a.createElement(me.a,{item:!0,xs:12,md:3},r.a.createElement(_.a,{fullWidth:!0,onClick:function(){if(""===v&&(k("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),1))return null;P().post("questions/".concat(x,"/replies")).send({text:v}).then((function(e){q(),j(""),k(null)})).catch((function(e){switch(e.status){case 401:F("?login=true");break;default:k("Error"),console.error(e)}}))}},"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438")))),!S&&r.a.createElement(Y.a,null,r.a.createElement(X.a,{secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{onClick:function(e){return F("?login=true")}},"Login"),"\xa0or\xa0",r.a.createElement(qe.a,{onClick:function(e){return F("?register=true")}},"sign up"),"\xa0to leave answers")})))))})),kt=Object(F.a)((function(e){return{logo:{width:"100%"}}})),xt=a(128),St=a.n(xt);function _t(){var e=Object(I.f)();var t=kt();return r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(Z.a,null,r.a.createElement("title",null,"Readit | About")),r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement(me.a,{container:!0,justify:"center"},r.a.createElement(me.a,{item:!0,xs:8,md:6},r.a.createElement("img",{src:St.a,alt:"Logo",className:t.logo})))),r.a.createElement(Y.a,null,r.a.createElement($.a,{variant:"h5"},"\u0429\u043e \u0442\u0430\u043a\u0435 Readit")),r.a.createElement(Y.a,null,r.a.createElement($.a,{variant:"body1"},"Readit - \u0446\u0435 \u0444\u0443\u043d\u043a\u0446\u0456\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0439 \u0432\u0435\u0431 \u043f\u043e\u0440\u0442\u0430\u043b \u0434\u043b\u044f \u0437\u043d\u0430\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0456 \u043d\u0430 \u0431\u0443\u0434\u044c-\u044f\u043a\u0456 \u043f\u0438\u0442\u0430\u043d\u043d\u044f. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u043d\u0430 \u0431\u0443\u0434\u044c-\u044f\u043a\u0456 \u0442\u0435\u043c\u0438, \u0430 \u0456\u043d\u0448\u0456 \u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0438 \u043c\u043e\u0436\u0443\u0442\u044c \u0432\u0430\u043c \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0441\u0442\u0438 \u043d\u0430 \u0432\u0430\u0448\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f.")),r.a.createElement(Y.a,null,r.a.createElement($.a,{variant:"h5"},"\u0427\u043e\u043c\u0443 Readit")),r.a.createElement(Y.a,null,r.a.createElement($.a,{variant:"body1"},"\u0423 \u043d\u0430\u0441 \u0432\u0438 \u0437\u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u043d\u0430\u0439\u0442\u0438 \u0432\u0456\u0434\u0437\u0438\u0432\u0447\u0438\u0432\u0435 \u043a\u043e\u043c\u044c\u044e\u043d\u0456\u0442\u0456. \u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u0441\u0430\u0439\u0442\u0443 \u043d\u0435 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u0454 \u0433\u0440\u0443\u0431\u043e \u0432\u0456\u0434\u043d\u043e\u0441\u0438\u0442\u0438\u0441\u044c \u0434\u043e \u0441\u043f\u0456\u0432\u0443\u0447\u0430\u0441\u043d\u0438\u043a\u0456\u0432 \u0444\u043e\u0440\u0443\u043c\u0443. \u0417\u043d\u0430\u0439\u0434\u0435\u0442\u044c\u0441\u044f \u0431\u0430\u0433\u0430\u0442\u043e \u043b\u044e\u0434\u0435\u0439, \u0449\u043e \u0437\u0430\u0445\u043e\u0447\u0443\u0442\u044c \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0442\u0438 \u0432\u0430\u043c \u0437 \u0432\u0430\u0448\u043e\u044e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u043e\u044e.")),r.a.createElement(Y.a,null,r.a.createElement($.a,{variant:"h5"},"\u0429\u043e \u0440\u043e\u0431\u0438\u0442\u0438?")),r.a.createElement(Y.a,null,r.a.createElement($.a,{variant:"body1"},"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u0434\u043e\u0437\u0432\u043e\u043b\u044f\u0454:")),r.a.createElement(Y.a,null,r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement(X.a,{primary:"\u0421\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f"})),r.a.createElement(Y.a,null,r.a.createElement(X.a,{primary:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0442\u0438 \u043d\u0430 \u043f\u0438\u0442\u0430\u043d\u043d\u044f \u0456\u043d\u0448\u0438\u0445 \u043b\u044e\u0434\u0435\u0439"})),r.a.createElement(Y.a,null,r.a.createElement(X.a,{primary:"\u041a\u0430\u0441\u0442\u043e\u043c\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0441\u0432\u0456\u0439 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"})),r.a.createElement(Y.a,null,r.a.createElement(X.a,{primary:"\u0417\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0438 \u043e\u0434\u043d\u043e\u0434\u0443\u043c\u0446\u0456\u0432"})))),r.a.createElement(Y.a,null,r.a.createElement($.a,{variant:"h5"},"\u0406 \u0449\u043e \u0434\u0430\u043b\u0456?")),r.a.createElement(Y.a,null,r.a.createElement($.a,{variant:"body1"},"\u0412\u043f\u0435\u0440\u0435\u0434, \u0441\u043f\u0456\u043b\u043a\u0443\u0432\u0430\u0442\u0438\u0441\u044f!")),r.a.createElement(Y.a,null,r.a.createElement(_.a,{onClick:function(){return t="/threads",void e.push(t);var t},variant:"outlined",fullWidth:!0},"\u0414\u043e \u043f\u0438\u0442\u0430\u043d\u044c"))))}function Nt(e){var t=e.articles,a=e.setArticles,n=(Object(y.a)(e,["articles","setArticles"]),g().user);return r.a.createElement(I.c,null,r.a.createElement(I.a,{path:"/threads/:mode?"},r.a.createElement(jt,{articles:t,setArticles:a})),r.a.createElement(I.a,{path:"/",exact:!0},r.a.createElement(jt,{articles:t,setArticles:a})),r.a.createElement(I.a,{path:"/thread/:id"},r.a.createElement(Ct,null)),n&&r.a.createElement(I.a,{path:"/editthread/:id"},r.a.createElement(Ue,null)),r.a.createElement(I.a,{path:"/user/:id"},r.a.createElement(tt,null)),r.a.createElement(I.a,{path:"/users"},r.a.createElement(ut,null)),r.a.createElement(I.a,{path:"/about"},r.a.createElement(_t,null)))}var At=Object(F.a)((function(e){return{footer:{backgroundColor:e.palette.footer.main,borderTop:"5px solid",borderColor:e.palette.footer.light,color:e.palette.common.white},copyright:{backgroundColor:e.palette.footer.dark,color:e.palette.common.white}}}));function Wt(){var e=Object(I.f)(),t=At();function a(t){e.push(t)}return r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement(f.a,{theme:m},r.a.createElement(se.a,{p:2,className:t.footer},r.a.createElement(me.a,{container:!0},r.a.createElement(me.a,{item:!0,xs:12,md:3},r.a.createElement(K.a,null,r.a.createElement(Y.a,null,"\u0420\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0438"),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"#",onClick:function(e){return a("/user/13")}},"\u0410\u043d\u0434\u0440\u0454\u0454\u0432 \u0414\u0430\u043d\u0438\u043b\u043e")),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"#",onClick:function(e){return a("/user/19")}},"\u0421\u043e\u043b\u043e\u043c\u0430\u0445\u0430 \u041e\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440")),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"#",onClick:function(e){return a("/user/25")}},"\u041d\u0435\u0441\u0442\u0435\u0440\u043e\u0432 \u041c\u0438\u043a\u0438\u0442\u0430")))),r.a.createElement(me.a,{item:!0,xs:12,md:3},r.a.createElement(K.a,null,r.a.createElement(Y.a,null,"\u0420\u043e\u0437\u0434\u0456\u043b\u0438"),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"#",onClick:function(e){return a("/threads")}},"\u041f\u0438\u0442\u0430\u043d\u043d\u044f")),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"#",onClick:function(e){return a("/users")}},"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456")),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"#",onClick:function(e){return a("/editthread/new")}},"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f")))),r.a.createElement(me.a,{item:!0,xs:12,md:3},r.a.createElement(K.a,null,r.a.createElement(Y.a,null,"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u0456 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u0457"),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"https://reactjs.org/"},"React")),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"https://material-ui.com/"},"Material UI")),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"https://laravel.com/"},"Laravel")))),r.a.createElement(me.a,{item:!0,xs:12,md:3},r.a.createElement(K.a,null,r.a.createElement(Y.a,null,"\u0420\u043e\u0437\u0440\u043e\u0431\u043a\u0430"),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"https://github.com/DanilAndreev/starscream_project"},"Github \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0439")),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"https://github.com/DanilAndreev/starscream_project/tree/master/web"},"Github \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0439 front-end")),r.a.createElement(Y.a,null,r.a.createElement(qe.a,{href:"https://github.com/DanilAndreev/starscream_project/tree/master/backend"},"Github \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0439 back-end")))))),r.a.createElement(me.a,{container:!0,className:t.copyright},r.a.createElement(se.a,{p:2},r.a.createElement(me.a,{item:!0,xs:12},r.a.createElement($.a,{variant:"subtitle2",align:"center"},"Copyright (\u0421) Andrieiev Solomaha Nesterov 2020 All rights reserved"))))))}var Tt=a(129),Ft=a.n(Tt),zt=a(130),It=a.n(zt),Bt=a(133),qt=a.n(Bt),Dt=a(134),Lt=a.n(Dt),Pt=a(132),Rt=a.n(Pt),Ut=a(131),Mt=a.n(Ut);function Zt(){var e=z(),t=g().user,a=Object(I.f)();function n(e){a.push(e)}return r.a.createElement(K.a,null,r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/threads")}},r.a.createElement(Ft.a,{fontSize:"small"}),r.a.createElement(X.a,{primary:"\u0412\u0441\u0456 \u043f\u0438\u0442\u0430\u043d\u043d\u044f",className:e.leftPanelButtonsText})),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/threads/my")}},r.a.createElement(It.a,{fontSize:"small"}),r.a.createElement(X.a,{primary:"\u041c\u043e\u0457 \u043f\u0438\u0442\u0430\u043d\u043d\u044f",className:e.leftPanelButtonsText})),r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/threads/commented")}},r.a.createElement(Mt.a,{fontSize:"small"}),r.a.createElement(X.a,{primary:"\u041f\u0440\u043e\u043a\u043e\u043c\u0435\u043d\u0442\u043e\u0432\u0430\u043d\u0456 \u043c\u043d\u043e\u044e",className:e.leftPanelButtonsText}))),r.a.createElement(ue.a,null),t&&r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/user/".concat(t.id))}},r.a.createElement(Rt.a,{fontSize:"small"}),r.a.createElement(X.a,{primary:"\u041c\u0456\u0439 \u043f\u0440\u043e\u0444\u0456\u043b\u044c",className:e.leftPanelButtonsText})),r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/users")}},r.a.createElement(qt.a,{fontSize:"small"}),r.a.createElement(X.a,{primary:"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456",className:e.leftPanelButtonsText})),r.a.createElement(Y.a,{dense:!0,button:!0,onClick:function(e){return n("/about")}},r.a.createElement(Lt.a,{fontSize:"small"}),r.a.createElement(X.a,{primary:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f",className:e.leftPanelButtonsText})))}var Gt=a(135),Ht=a.n(Gt);var Jt=Object(B.a)()((function(e){var t=e.width,a=(Object(y.a)(e,["width"]),z()),n=Object(I.f)(),l=r.a.useState(""),c=Object(p.a)(l,2),o=c[0],i=c[1],u=r.a.useState([]),s=Object(p.a)(u,2),m=s[0],d=s[1],h=r.a.useState({email:null,password:null,remember:!1}),b=Object(p.a)(h,2),v=b[0],j=b[1],w=g(),k=w.user,x=w.setUser,S=w.setToken,N=r.a.useState(!1),A=Object(p.a)(N,2),W=A[0],F=A[1],q=Object(I.g)(),D=U.a.parse(q.search,{ignoreQueryPrefix:!0}),L=D.register,R=D.login,G=D.menu,H=!1,J=r.a.useState([]),$=Object(p.a)(J,2),ee=$[0],te=$[1];function ae(e){n.push(e)}function ne(){P().get("questions/top10").then((function(e){te(e.body.data)})).catch((function(e){console.error(e)}))}function le(){P().post("auth/logout").send({}).then((function(e){S(null),x(null)})).catch((function(e){switch(e.status){case 401:ae("?login=true");break;default:console.error(e)}}))}function ce(){o&&ae("/threads?search=".concat(o)),!o&&ae("/threads")}function be(e){ae(q.pathname)}return r.a.useEffect((function(){H=!0}),[]),r.a.useEffect((function(){H=!0,P().get("users/me").then((function(e){x(Object(T.a)(Object(T.a)({},e.body.data),{},{created_at:void 0,updated_at:void 0})),F(!0),console.log("Automatically authorized as ".concat(e.body.data.name))})).catch((function(e){switch(e.status){case 401:x(null),F(!0),console.log("Automatically authorized as guest");break;default:console.error("Failed to auto-authorize, error:",e)}}))}),[]),r.a.useEffect((function(){H=!0,ne();var e=setInterval((function(){ne(),console.log("Sync [top10threads]: synchronizing (".concat((new Date).toLocaleString(),")"))}),3e4);return function(){clearInterval(e)}}),[]),H||!W?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,null,r.a.createElement("title",null,"Readit")),r.a.createElement(O.a,{"aria-labelledby":"auth-dialog",open:!!R,onClose:function(){ae(q.pathname),j({username:null,password:null})}},r.a.createElement(C.a,{id:"auth-dialog-title"},"\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u044f"),r.a.createElement(re,{authData:v,setAuthData:j,onComplete:be})),r.a.createElement(O.a,{"aria-labelledby":"auth-dialog",open:!!L,onClose:function(){ae(q.pathname)}},r.a.createElement(C.a,{id:"auth-dialog-title"},"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"),r.a.createElement(oe,{onComplete:be})),Object(B.b)("md",t)&&r.a.createElement(pe.a,{anchor:"left",open:!!G,onClose:function(e){return ae(q.pathname)},onOpen:function(e){return ae("?menu=true")},swipeAreaWidth:40,classes:{paperAnchorLeft:a.menuDrawer}},r.a.createElement(K.a,null,k&&r.a.createElement(Y.a,null,r.a.createElement(Oe.a,null,r.a.createElement(de.a,{src:"".concat("https://web.solomaha.com/avatars","/").concat(k.id,".jpg")})),r.a.createElement(X.a,{primary:k&&k.name,secondary:k&&k.email}),r.a.createElement(V.a,null,r.a.createElement(Q.a,{edge:"end","aria-label":"logout",onClick:le},r.a.createElement(ye.a,null)))),!k&&r.a.createElement(Y.a,null,r.a.createElement(he.a,{fullWidth:!0},r.a.createElement(_.a,{onClick:function(e){return ae("?register=true")}},"Register"),r.a.createElement(_.a,{onClick:function(e){return ae("?login=true")}},"Login")))),r.a.createElement(Zt,null),r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement(X.a,{primary:"\u0422\u043e\u043f 10 \u043f\u0438\u0442\u0430\u043d\u044c"})),r.a.createElement(ue.a,null),ee.map((function(e,t){return r.a.createElement(Ce,{key:"top_artciles_".concat(t),thread:e})})))),r.a.createElement(Ee.a,{position:Object(B.c)("md",t)?"static":"fixed"},r.a.createElement(fe.a,null,Object(B.b)("sm",t)&&r.a.createElement(Q.a,{onClick:function(e){return Object(B.b)("md",t)&&ae("?menu=true")}},r.a.createElement(je.a,{color:"inherit",className:a.menuIcon})),r.a.createElement("div",{className:a.title},r.a.createElement(_.a,{onClick:function(e){return ae("/about")}},r.a.createElement("img",{src:Ht.a,alt:"Logo",className:Object(M.a)(a.logo)}))),!k&&r.a.createElement(_.a,{color:"inherit",onClick:function(){return ae("?register=true")}},"Sign up"),!k&&r.a.createElement(_.a,{color:"inherit",onClick:function(){return ae("?login=true")}},"Login"),k&&r.a.createElement(_.a,{color:"inherit",onClick:function(e){return ae("/user/".concat(k.id))}},Object(B.c)("md",t)&&k.name,r.a.createElement(de.a,{className:a.avatar,src:"".concat("https://web.solomaha.com/avatars","/").concat(k.id,".jpg")})),k&&Object(B.c)("sm",t)&&r.a.createElement(_.a,{color:"inherit",onClick:le},"Logout"))),r.a.createElement(me.a,{container:!0,className:Object(M.a)(Object(B.b)("sm",t)&&a.appBarMobileMargin)},Object(B.c)("sm",t)&&r.a.createElement(me.a,{item:!0,md:1,lg:2}),r.a.createElement(me.a,{item:!0,xs:12,md:10,lg:8,id:"page"},r.a.createElement(se.a,null,r.a.createElement(f.a,{theme:E},r.a.createElement(me.a,{container:!0,className:a.topLine},r.a.createElement(me.a,{item:!0,xs:12,md:2}),r.a.createElement(me.a,{item:!0,xs:12,md:7},r.a.createElement(se.a,{p:1},r.a.createElement("div",{className:a.searchLineBase},r.a.createElement(ie.a,{value:o,fullWidth:!0,variant:"filled",label:"\u0417\u043d\u0430\u0439\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f",size:"small",name:"search",onChange:function(e){i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(ce(),i(""))},autoComplete:"search",InputLabelProps:{classes:{root:a.whiteColor}},InputProps:{disableUnderline:!0,classes:{root:a.InputRoot,input:a.whiteColor}}}),r.a.createElement(_.a,{variant:"contained",color:"primary",onClick:ce},r.a.createElement(ge.a,null))))),r.a.createElement(me.a,{item:!0,xs:12,md:3},r.a.createElement("div",{className:a.createThreadButtonContainer},r.a.createElement(se.a,{p:1,className:a.createThreadButtonBox},r.a.createElement(_.a,{fullWidth:!0,variant:"contained",color:"secondary",className:a.createThreadButton,onClick:function(e){k&&ae("/editthread/new"),!k&&ae("?login=true")}},"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043f\u0438\u0442\u0430\u043d\u043d\u044f")))))),r.a.createElement(me.a,{container:!0},r.a.createElement(f.a,{theme:E},Object(B.c)("md",t)&&r.a.createElement(me.a,{item:!0,xs:12,md:2,className:a.leftColumn},r.a.createElement(se.a,{p:1},r.a.createElement(Zt,null)))),r.a.createElement(me.a,{item:!0,xs:12,md:7,className:a.contentColumn},r.a.createElement(me.a,{container:!0},r.a.createElement(Nt,{articles:m,setArticles:d}))),Object(B.c)("md",t)&&r.a.createElement(me.a,{item:!0,xs:12,md:3,className:a.rightColumn},r.a.createElement(se.a,{p:1},r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement(X.a,{primary:"\u0422\u043e\u043f 10 \u043f\u0438\u0442\u0430\u043d\u044c"})),r.a.createElement(ue.a,null),ee.map((function(e,t){return r.a.createElement(Ce,{key:"top_artciles_".concat(t),thread:e})})))))))),Object(B.c)("sm",t)&&r.a.createElement(me.a,{item:!0,md:1,lg:2}),r.a.createElement(Wt,null)))}));var Qt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null,r.a.createElement(f.a,{theme:m},r.a.createElement(A,null,r.a.createElement(o.a,null,r.a.createElement(Jt,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Qt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[156,1,2]]]);
//# sourceMappingURL=main.8925ccc5.chunk.js.map